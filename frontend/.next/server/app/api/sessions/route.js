(()=>{var e={};e.id=97,e.ids=[97],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4429:()=>{},4749:()=>{},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6593:(e,s,t)=>{"use strict";t.r(s),t.d(s,{patchFetch:()=>R,routeModule:()=>h,serverHooks:()=>w,workAsyncStorage:()=>x,workUnitAsyncStorage:()=>f});var r={};t.r(r),t.d(r,{DELETE:()=>l,GET:()=>u,PATCH:()=>j,POST:()=>c,PUT:()=>d});var n=t(781),o=t(554),a=t(1625),i=t(6396);let p=process.env.BACKEND_URL;if(!p)throw Error("BACKEND_URL environment variable is required");async function u(e){try{let{searchParams:s}=new URL(e.url),t=s.get("campaignId"),r=s.get("sessionId");if(r){let e=await fetch(`${p}/api/sessions/${r}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error(`Backend responded with status: ${e.status}`);let s=await e.json();return i.NextResponse.json(s)}if(t){let e=await fetch(`${p}/api/sessions/campaign/${t}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error(`Backend responded with status: ${e.status}`);let s=await e.json();return i.NextResponse.json(s)}return i.NextResponse.json({error:"Either campaignId or sessionId is required"},{status:400})}catch(e){return console.error("Error fetching sessions:",e),i.NextResponse.json({error:"Failed to fetch sessions"},{status:500})}}async function c(e){try{let s=await e.json(),t=await fetch(`${p}/api/sessions`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok){let e=await t.json();return i.NextResponse.json(e,{status:t.status})}let r=await t.json();return i.NextResponse.json(r,{status:201})}catch(e){return console.error("Error creating session:",e),i.NextResponse.json({error:"Failed to create session"},{status:500})}}async function d(e){try{let{searchParams:s}=new URL(e.url),t=s.get("sessionId");if(!t)return i.NextResponse.json({error:"Session ID is required"},{status:400});let r=await e.json(),n=await fetch(`${p}/api/sessions/${t}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){let e=await n.json();return i.NextResponse.json(e,{status:n.status})}let o=await n.json();return i.NextResponse.json(o)}catch(e){return console.error("Error updating session:",e),i.NextResponse.json({error:"Failed to update session"},{status:500})}}async function l(e){try{let{searchParams:s}=new URL(e.url),t=s.get("sessionId");if(!t)return i.NextResponse.json({error:"Session ID is required"},{status:400});let r=await fetch(`${p}/api/sessions/${t}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok){let e=await r.json();return i.NextResponse.json(e,{status:r.status})}let n=await r.json();return i.NextResponse.json(n)}catch(e){return console.error("Error deleting session:",e),i.NextResponse.json({error:"Failed to delete session"},{status:500})}}async function j(e){try{let{searchParams:s}=new URL(e.url),t=s.get("action");if("close-inactive"===t){let e=await fetch(`${p}/api/sessions/close-inactive`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!e.ok){let s=await e.json();return i.NextResponse.json(s,{status:e.status})}let s=await e.json();return i.NextResponse.json(s)}return i.NextResponse.json({error:"Invalid action"},{status:400})}catch(e){return console.error("Error performing session cleanup:",e),i.NextResponse.json({error:"Failed to perform session cleanup"},{status:500})}}let h=new n.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/sessions/route",pathname:"/api/sessions",filename:"route",bundlePath:"app/api/sessions/route"},resolvedPagePath:"/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/api/sessions/route.ts",nextConfigOutput:"standalone",userland:r}),{workAsyncStorage:x,workUnitAsyncStorage:f,serverHooks:w}=h;function R(){return(0,a.patchFetch)({workAsyncStorage:x,workUnitAsyncStorage:f})}},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[683,146],()=>t(6593));module.exports=r})();