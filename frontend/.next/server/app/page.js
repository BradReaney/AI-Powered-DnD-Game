(()=>{var e={};e.id=593,e.ids=[593],e.modules={257:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s,dynamic:()=>n});var a=r(413);let n=(0,a.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/page.tsx","dynamic"),s=(0,a.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/page.tsx","default")},846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1814:(e,t,r)=>{Promise.resolve().then(r.bind(r,4721))},3024:()=>{},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3271:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6018,23))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3358:(e,t,r)=>{Promise.resolve().then(r.bind(r,257))},3648:()=>{},3706:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var a=r(7307),n=r(6018),s=r.n(n);function i(){return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"404 - Page Not Found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-8",children:"The page you're looking for doesn't exist."}),(0,a.jsx)(s(),{href:"/",className:"px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:"Go Home"})]})}},3873:e=>{"use strict";e.exports=require("path")},4721:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>sQ,dynamic:()=>sZ});var a,n,s=r(8625),i=r(4996),l=r.t(i,2);function o(){for(var e,t,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(t=function e(t){var r,a,n="";if("string"==typeof t||"number"==typeof t)n+=t;else if("object"==typeof t){if(Array.isArray(t)){var s=t.length;for(r=0;r<s;r++)t[r]&&(a=e(t[r]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a)}return n}(e))&&(a&&(a+=" "),a+=t);return a}let c=e=>{let t=h(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:e=>{let r=e.split("-");return""===r[0]&&1!==r.length&&r.shift(),d(r,t)||m(e)},getConflictingClassGroupIds:(e,t)=>{let n=r[e]||[];return t&&a[e]?[...n,...a[e]]:n}}},d=(e,t)=>{if(0===e.length)return t.classGroupId;let r=e[0],a=t.nextPart.get(r),n=a?d(e.slice(1),a):void 0;if(n)return n;if(0===t.validators.length)return;let s=e.join("-");return t.validators.find(({validator:e})=>e(s))?.classGroupId},u=/^\[(.+)\]$/,m=e=>{if(u.test(e)){let t=u.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},h=e=>{let{theme:t,prefix:r}=e,a={nextPart:new Map,validators:[]};return g(Object.entries(e.classGroups),r).forEach(([e,r])=>{p(r,a,e,t)}),a},p=(e,t,r,a)=>{e.forEach(e=>{if("string"==typeof e){(""===e?t:f(t,e)).classGroupId=r;return}if("function"==typeof e){if(x(e)){p(e(a),t,r,a);return}t.validators.push({validator:e,classGroupId:r});return}Object.entries(e).forEach(([e,n])=>{p(n,f(t,e),r,a)})})},f=(e,t)=>{let r=e;return t.split("-").forEach(e=>{r.nextPart.has(e)||r.nextPart.set(e,{nextPart:new Map,validators:[]}),r=r.nextPart.get(e)}),r},x=e=>e.isThemeGetter,g=(e,t)=>t?e.map(([e,r])=>[e,r.map(e=>"string"==typeof e?t+e:"object"==typeof e?Object.fromEntries(Object.entries(e).map(([e,r])=>[t+e,r])):e)]):e,v=e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=new Map,a=new Map,n=(n,s)=>{r.set(n,s),++t>e&&(t=0,a=r,r=new Map)};return{get(e){let t=r.get(e);return void 0!==t?t:void 0!==(t=a.get(e))?(n(e,t),t):void 0},set(e,t){r.has(e)?r.set(e,t):n(e,t)}}},y=e=>{let{separator:t,experimentalParseClassName:r}=e,a=1===t.length,n=t[0],s=t.length,i=e=>{let r;let i=[],l=0,o=0;for(let c=0;c<e.length;c++){let d=e[c];if(0===l){if(d===n&&(a||e.slice(c,c+s)===t)){i.push(e.slice(o,c)),o=c+s;continue}if("/"===d){r=c;continue}}"["===d?l++:"]"===d&&l--}let c=0===i.length?e:e.substring(o),d=c.startsWith("!"),u=d?c.substring(1):c;return{modifiers:i,hasImportantModifier:d,baseClassName:u,maybePostfixModifierPosition:r&&r>o?r-o:void 0}};return r?e=>r({className:e,parseClassName:i}):i},b=e=>{if(e.length<=1)return e;let t=[],r=[];return e.forEach(e=>{"["===e[0]?(t.push(...r.sort(),e),r=[]):r.push(e)}),t.push(...r.sort()),t},j=e=>({cache:v(e.cacheSize),parseClassName:y(e),...c(e)}),w=/\s+/,N=(e,t)=>{let{parseClassName:r,getClassGroupId:a,getConflictingClassGroupIds:n}=t,s=[],i=e.trim().split(w),l="";for(let e=i.length-1;e>=0;e-=1){let t=i[e],{modifiers:o,hasImportantModifier:c,baseClassName:d,maybePostfixModifierPosition:u}=r(t),m=!!u,h=a(m?d.substring(0,u):d);if(!h){if(!m||!(h=a(d))){l=t+(l.length>0?" "+l:l);continue}m=!1}let p=b(o).join(":"),f=c?p+"!":p,x=f+h;if(s.includes(x))continue;s.push(x);let g=n(h,m);for(let e=0;e<g.length;++e){let t=g[e];s.push(f+t)}l=t+(l.length>0?" "+l:l)}return l};function C(){let e,t,r=0,a="";for(;r<arguments.length;)(e=arguments[r++])&&(t=k(e))&&(a&&(a+=" "),a+=t);return a}let k=e=>{let t;if("string"==typeof e)return e;let r="";for(let a=0;a<e.length;a++)e[a]&&(t=k(e[a]))&&(r&&(r+=" "),r+=t);return r},S=e=>{let t=t=>t[e]||[];return t.isThemeGetter=!0,t},E=/^\[(?:([a-z-]+):)?(.+)\]$/i,P=/^\d+\/\d+$/,A=new Set(["px","full","screen"]),L=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,T=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,D=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,I=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,R=e=>F(e)||A.has(e)||P.test(e),z=e=>X(e,"length",J),F=e=>!!e&&!Number.isNaN(Number(e)),O=e=>X(e,"number",F),$=e=>!!e&&Number.isInteger(Number(e)),_=e=>e.endsWith("%")&&F(e.slice(0,-1)),B=e=>E.test(e),U=e=>L.test(e),q=new Set(["length","size","percentage"]),H=e=>X(e,q,Z),W=e=>X(e,"position",Z),V=new Set(["image","url"]),K=e=>X(e,V,ee),G=e=>X(e,"",Q),Y=()=>!0,X=(e,t,r)=>{let a=E.exec(e);return!!a&&(a[1]?"string"==typeof t?a[1]===t:t.has(a[1]):r(a[2]))},J=e=>M.test(e)&&!T.test(e),Z=()=>!1,Q=e=>D.test(e),ee=e=>I.test(e);Symbol.toStringTag;let et=function(e,...t){let r,a,n;let s=function(l){return a=(r=j(t.reduce((e,t)=>t(e),e()))).cache.get,n=r.cache.set,s=i,i(l)};function i(e){let t=a(e);if(t)return t;let s=N(e,r);return n(e,s),s}return function(){return s(C.apply(null,arguments))}}(()=>{let e=S("colors"),t=S("spacing"),r=S("blur"),a=S("brightness"),n=S("borderColor"),s=S("borderRadius"),i=S("borderSpacing"),l=S("borderWidth"),o=S("contrast"),c=S("grayscale"),d=S("hueRotate"),u=S("invert"),m=S("gap"),h=S("gradientColorStops"),p=S("gradientColorStopPositions"),f=S("inset"),x=S("margin"),g=S("opacity"),v=S("padding"),y=S("saturate"),b=S("scale"),j=S("sepia"),w=S("skew"),N=S("space"),C=S("translate"),k=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",B,t],A=()=>[B,t],L=()=>["",R,z],M=()=>["auto",F,B],T=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],D=()=>["solid","dashed","dotted","double","none"],I=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],q=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",B],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[F,B];return{cacheSize:500,separator:":",theme:{colors:[Y],spacing:[R,z],blur:["none","",U,B],brightness:J(),borderColor:[e],borderRadius:["none","","full",U,B],borderSpacing:A(),borderWidth:L(),contrast:J(),grayscale:V(),hueRotate:J(),invert:V(),gap:A(),gradientColorStops:[e],gradientColorStopPositions:[_,z],inset:P(),margin:P(),opacity:J(),padding:A(),saturate:J(),scale:J(),sepia:V(),skew:J(),space:A(),translate:A()},classGroups:{aspect:[{aspect:["auto","square","video",B]}],container:["container"],columns:[{columns:[U]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...T(),B]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[f]}],"inset-x":[{"inset-x":[f]}],"inset-y":[{"inset-y":[f]}],start:[{start:[f]}],end:[{end:[f]}],top:[{top:[f]}],right:[{right:[f]}],bottom:[{bottom:[f]}],left:[{left:[f]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$,B]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",B]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",$,B]}],"grid-cols":[{"grid-cols":[Y]}],"col-start-end":[{col:["auto",{span:["full",$,B]},B]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[Y]}],"row-start-end":[{row:["auto",{span:[$,B]},B]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",B]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",B]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",B,t]}],"min-w":[{"min-w":[B,t,"min","max","fit"]}],"max-w":[{"max-w":[B,t,"none","full","min","max","fit","prose",{screen:[U]},U]}],h:[{h:[B,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[B,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[B,t,"auto","min","max","fit"]}],"font-size":[{text:["base",U,z]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",O]}],"font-family":[{font:[Y]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",B]}],"line-clamp":[{"line-clamp":["none",F,O]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",R,B]}],"list-image":[{"list-image":["none",B]}],"list-style-type":[{list:["none","disc","decimal",B]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...D(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",R,z]}],"underline-offset":[{"underline-offset":["auto",R,B]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",B]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",B]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...T(),W]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",H]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},K]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...D(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:D()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...D()]}],"outline-offset":[{"outline-offset":[R,B]}],"outline-w":[{outline:[R,z]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:L()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[R,z]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",U,G]}],"shadow-color":[{shadow:[Y]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...I(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":I()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[a]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",U,B]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[j]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[j]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",B]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",B]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",B]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[$,B]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[w]}],"skew-y":[{"skew-y":[w]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",B]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",B]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",B]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[R,z,O]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}});function er(...e){return et(o(e))}function ea({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card",className:er("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function en({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-header",className:er("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function es({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-title",className:er("leading-none font-semibold",e),...t})}function ei({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-description",className:er("text-muted-foreground text-sm",e),...t})}function el({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"card-content",className:er("px-6",e),...t})}let eo=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,ec=(e,t)=>r=>{var a;if((null==t?void 0:t.variants)==null)return o(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:n,defaultVariants:s}=t,i=Object.keys(n).map(e=>{let t=null==r?void 0:r[e],a=null==s?void 0:s[e];if(null===t)return null;let i=eo(t)||eo(a);return n[e][i]}),l=r&&Object.entries(r).reduce((e,t)=>{let[r,a]=t;return void 0===a||(e[r]=a),e},{});return o(e,i,null==t?void 0:null===(a=t.compoundVariants)||void 0===a?void 0:a.reduce((e,t)=>{let{class:r,className:a,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...s,...l}[t]):({...s,...l})[t]===r})?[...e,r,a]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)},ed=ec("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}}),eu=i.forwardRef(({className:e,variant:t,size:r,...a},n)=>(0,s.jsx)("button",{ref:n,"data-slot":"button",className:er(ed({variant:t,size:r,className:e})),...a}));eu.displayName="Button";let em=ec("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eh({className:e,variant:t,...r}){return(0,s.jsx)("div",{className:er(em({variant:t}),e),...r})}function ep(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}function ef(e,t=[]){let r=[],a=()=>{let t=r.map(e=>i.createContext(e));return function(r){let a=r?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return a.scopeName=e,[function(t,a){let n=i.createContext(a),l=r.length;r=[...r,a];let o=t=>{let{scope:r,children:a,...o}=t,c=r?.[e]?.[l]||n,d=i.useMemo(()=>o,Object.values(o));return(0,s.jsx)(c.Provider,{value:d,children:a})};return o.displayName=t+"Provider",[o,function(r,s){let o=s?.[e]?.[l]||n,c=i.useContext(o);if(c)return c;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:a})=>{let n=r(e)[`__scope${a}`];return{...t,...n}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(a,...t)]}function ex(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function eg(...e){return t=>{let r=!1,a=e.map(e=>{let a=ex(e,t);return r||"function"!=typeof a||(r=!0),a});if(r)return()=>{for(let t=0;t<a.length;t++){let r=a[t];"function"==typeof r?r():ex(e[t],null)}}}}function ev(...e){return i.useCallback(eg(...e),e)}var ey=i.forwardRef((e,t)=>{let{children:r,...a}=e,n=i.Children.toArray(r),l=n.find(ew);if(l){let e=l.props.children,r=n.map(t=>t!==l?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,s.jsx)(eb,{...a,ref:t,children:i.isValidElement(e)?i.cloneElement(e,void 0,r):null})}return(0,s.jsx)(eb,{...a,ref:t,children:r})});ey.displayName="Slot";var eb=i.forwardRef((e,t)=>{let{children:r,...a}=e;if(i.isValidElement(r)){let e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(r);return i.cloneElement(r,{...function(e,t){let r={...t};for(let a in t){let n=e[a],s=t[a];/^on[A-Z]/.test(a)?n&&s?r[a]=(...e)=>{s(...e),n(...e)}:n&&(r[a]=n):"style"===a?r[a]={...n,...s}:"className"===a&&(r[a]=[n,s].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props),ref:t?eg(t,e):e})}return i.Children.count(r)>1?i.Children.only(null):null});eb.displayName="SlotClone";var ej=({children:e})=>(0,s.jsx)(s.Fragment,{children:e});function ew(e){return i.isValidElement(e)&&e.type===ej}function eN(e){let t=e+"CollectionProvider",[r,a]=ef(t),[n,l]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:t,children:r}=e,a=i.useRef(null),l=i.useRef(new Map).current;return(0,s.jsx)(n,{scope:t,itemMap:l,collectionRef:a,children:r})};o.displayName=t;let c=e+"CollectionSlot",d=i.forwardRef((e,t)=>{let{scope:r,children:a}=e,n=ev(t,l(c,r).collectionRef);return(0,s.jsx)(ey,{ref:n,children:a})});d.displayName=c;let u=e+"CollectionItemSlot",m="data-radix-collection-item",h=i.forwardRef((e,t)=>{let{scope:r,children:a,...n}=e,o=i.useRef(null),c=ev(t,o),d=l(u,r);return i.useEffect(()=>(d.itemMap.set(o,{ref:o,...n}),()=>void d.itemMap.delete(o))),(0,s.jsx)(ey,{[m]:"",ref:c,children:a})});return h.displayName=u,[{Provider:o,Slot:d,ItemSlot:h},function(t){let r=l(e+"CollectionConsumer",t);return i.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${m}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},a]}var eC=globalThis?.document?i.useLayoutEffect:()=>{},ek=l["useId".toString()]||(()=>void 0),eS=0;function eE(e){let[t,r]=i.useState(ek());return eC(()=>{e||r(e=>e??String(eS++))},[e]),e||(t?`radix-${t}`:"")}var eP=r(8709),eA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce((e,t)=>{let r=i.forwardRef((e,r)=>{let{asChild:a,...n}=e,i=a?ey:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i,{...n,ref:r})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function eL(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}function eM({prop:e,defaultProp:t,onChange:r=()=>{}}){let[a,n]=function({defaultProp:e,onChange:t}){let r=i.useState(e),[a]=r,n=i.useRef(a),s=eL(t);return i.useEffect(()=>{n.current!==a&&(s(a),n.current=a)},[a,n,s]),r}({defaultProp:t,onChange:r}),s=void 0!==e,l=s?e:a,o=eL(r);return[l,i.useCallback(t=>{if(s){let r="function"==typeof t?t(e):t;r!==e&&o(r)}else n(t)},[s,e,n,o])]}var eT=i.createContext(void 0);function eD(e){let t=i.useContext(eT);return e||t||"ltr"}var eI="rovingFocusGroup.onEntryFocus",eR={bubbles:!1,cancelable:!0},ez="RovingFocusGroup",[eF,eO,e$]=eN(ez),[e_,eB]=ef(ez,[e$]),[eU,eq]=e_(ez),eH=i.forwardRef((e,t)=>(0,s.jsx)(eF.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(eF.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,s.jsx)(eW,{...e,ref:t})})}));eH.displayName=ez;var eW=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:a,loop:n=!1,dir:l,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:u,preventScrollOnEntryFocus:m=!1,...h}=e,p=i.useRef(null),f=ev(t,p),x=eD(l),[g=null,v]=eM({prop:o,defaultProp:c,onChange:d}),[y,b]=i.useState(!1),j=eL(u),w=eO(r),N=i.useRef(!1),[C,k]=i.useState(0);return i.useEffect(()=>{let e=p.current;if(e)return e.addEventListener(eI,j),()=>e.removeEventListener(eI,j)},[j]),(0,s.jsx)(eU,{scope:r,orientation:a,dir:x,loop:n,currentTabStopId:g,onItemFocus:i.useCallback(e=>v(e),[v]),onItemShiftTab:i.useCallback(()=>b(!0),[]),onFocusableItemAdd:i.useCallback(()=>k(e=>e+1),[]),onFocusableItemRemove:i.useCallback(()=>k(e=>e-1),[]),children:(0,s.jsx)(eA.div,{tabIndex:y||0===C?-1:0,"data-orientation":a,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:ep(e.onMouseDown,()=>{N.current=!0}),onFocus:ep(e.onFocus,e=>{let t=!N.current;if(e.target===e.currentTarget&&t&&!y){let t=new CustomEvent(eI,eR);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=w().filter(e=>e.focusable);eY([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),m)}}N.current=!1}),onBlur:ep(e.onBlur,()=>b(!1))})})}),eV="RovingFocusGroupItem",eK=i.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:a=!0,active:n=!1,tabStopId:l,...o}=e,c=eE(),d=l||c,u=eq(eV,r),m=u.currentTabStopId===d,h=eO(r),{onFocusableItemAdd:p,onFocusableItemRemove:f}=u;return i.useEffect(()=>{if(a)return p(),()=>f()},[a,p,f]),(0,s.jsx)(eF.ItemSlot,{scope:r,id:d,focusable:a,active:n,children:(0,s.jsx)(eA.span,{tabIndex:m?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:ep(e.onMouseDown,e=>{a?u.onItemFocus(d):e.preventDefault()}),onFocus:ep(e.onFocus,()=>u.onItemFocus(d)),onKeyDown:ep(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey){u.onItemShiftTab();return}if(e.target!==e.currentTarget)return;let t=function(e,t,r){var a;let n=(a=e.key,"rtl"!==r?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(n))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(n)))return eG[n]}(e,u.orientation,u.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=h().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){"prev"===t&&r.reverse();let a=r.indexOf(e.currentTarget);r=u.loop?function(e,t){return e.map((r,a)=>e[(t+a)%e.length])}(r,a+1):r.slice(a+1)}setTimeout(()=>eY(r))}})})})});eK.displayName=eV;var eG={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eY(e,t=!1){let r=document.activeElement;for(let a of e)if(a===r||(a.focus({preventScroll:t}),document.activeElement!==r))return}var eX=e=>{let{present:t,children:r}=e,a=function(e){var t,r;let[a,n]=i.useState(),s=i.useRef({}),l=i.useRef(e),o=i.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},i.useReducer((e,t)=>r[e][t]??e,t));return i.useEffect(()=>{let e=eJ(s.current);o.current="mounted"===c?e:"none"},[c]),eC(()=>{let t=s.current,r=l.current;if(r!==e){let a=o.current,n=eJ(t);e?d("MOUNT"):"none"===n||t?.display==="none"?d("UNMOUNT"):r&&a!==n?d("ANIMATION_OUT"):d("UNMOUNT"),l.current=e}},[e,d]),eC(()=>{if(a){let e;let t=a.ownerDocument.defaultView??window,r=r=>{let n=eJ(s.current).includes(r.animationName);if(r.target===a&&n&&(d("ANIMATION_END"),!l.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},n=e=>{e.target===a&&(o.current=eJ(s.current))};return a.addEventListener("animationstart",n),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",n),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}d("ANIMATION_END")},[a,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(e=>{e&&(s.current=getComputedStyle(e)),n(e)},[])}}(t),n="function"==typeof r?r({present:a.isPresent}):i.Children.only(r),s=ev(a.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n));return"function"==typeof r||a.isPresent?i.cloneElement(n,{ref:s}):null};function eJ(e){return e?.animationName||"none"}eX.displayName="Presence";var eZ="Tabs",[eQ,e0]=ef(eZ,[eB]),e1=eB(),[e2,e4]=eQ(eZ),e3=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,onValueChange:n,defaultValue:i,orientation:l="horizontal",dir:o,activationMode:c="automatic",...d}=e,u=eD(o),[m,h]=eM({prop:a,onChange:n,defaultProp:i});return(0,s.jsx)(e2,{scope:r,baseId:eE(),value:m,onValueChange:h,orientation:l,dir:u,activationMode:c,children:(0,s.jsx)(eA.div,{dir:u,"data-orientation":l,...d,ref:t})})});e3.displayName=eZ;var e5="TabsList",e6=i.forwardRef((e,t)=>{let{__scopeTabs:r,loop:a=!0,...n}=e,i=e4(e5,r),l=e1(r);return(0,s.jsx)(eH,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:(0,s.jsx)(eA.div,{role:"tablist","aria-orientation":i.orientation,...n,ref:t})})});e6.displayName=e5;var e8="TabsTrigger",e7=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,disabled:n=!1,...i}=e,l=e4(e8,r),o=e1(r),c=tt(l.baseId,a),d=tr(l.baseId,a),u=a===l.value;return(0,s.jsx)(eK,{asChild:!0,...o,focusable:!n,active:u,children:(0,s.jsx)(eA.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":d,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:c,...i,ref:t,onMouseDown:ep(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():l.onValueChange(a)}),onKeyDown:ep(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&l.onValueChange(a)}),onFocus:ep(e.onFocus,()=>{let e="manual"!==l.activationMode;u||n||!e||l.onValueChange(a)})})})});e7.displayName=e8;var e9="TabsContent",te=i.forwardRef((e,t)=>{let{__scopeTabs:r,value:a,forceMount:n,children:l,...o}=e,c=e4(e9,r),d=tt(c.baseId,a),u=tr(c.baseId,a),m=a===c.value,h=i.useRef(m);return i.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(eX,{present:n||m,children:({present:r})=>(0,s.jsx)(eA.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!r,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:r&&l})})});function tt(e,t){return`${e}-trigger-${t}`}function tr(e,t){return`${e}-content-${t}`}function ta({className:e,...t}){return(0,s.jsx)(e3,{"data-slot":"tabs",className:er("flex flex-col gap-2",e),...t})}function tn({className:e,...t}){return(0,s.jsx)(e6,{"data-slot":"tabs-list",className:er("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function ts({className:e,...t}){return(0,s.jsx)(e7,{"data-slot":"tabs-trigger",className:er("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function ti({className:e,...t}){return(0,s.jsx)(te,{"data-slot":"tabs-content",className:er("flex-1 outline-none",e),...t})}function tl(e){return{id:e._id?.toString()||e._id,campaignId:e.campaignId?.toString()||e.campaignId,name:e.name,type:e.type,description:e.description,difficulty:e.difficulty||"Medium",inhabitants:e.inhabitants||[],connections:e.connections||[],createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}}function to(e){return{id:e._id?.toString()||e._id,campaignId:e.campaignId?.toString()||e.campaignId,title:e.title||`Session ${e.sessionNumber}`,name:e.name,description:e.description||`Session ${e.sessionNumber}`,date:new Date(e.date),isCompleted:e.isCompleted||!1,sessionNumber:e.sessionNumber,isActive:e.isActive||!1,status:e.status||"In Progress",duration:e.duration,summary:e.summary,createdAt:new Date(e.createdAt),updatedAt:new Date(e.updatedAt)}}te.displayName=e9;let tc=process.env.NEXT_PUBLIC_API_URL;if(!tc)throw Error("NEXT_PUBLIC_API_URL environment variable is required for server-side requests");class td{async request(e,t={}){let r=`${tc}/api${e}`,a={"Cache-Control":"no-cache",Pragma:"no-cache",...t.headers||{}};t.method&&["POST","PUT","PATCH"].includes(t.method)&&(a["Content-Type"]="application/json");let n={headers:a,cache:"no-store",...t};try{let e=await fetch(r,n);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);return await e.json()}catch(t){throw console.error(`API request failed for ${e}:`,t),t}}async getCampaigns(){return await this.request("/campaigns")}async getCampaign(e){return await this.request(`/campaigns/${e}`)}async createCampaign(e){return await this.request("/campaigns",{method:"POST",body:JSON.stringify(e)})}async updateCampaign(e,t){return this.request(`/campaigns/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteCampaign(e){return this.request(`/campaigns/${e}`,{method:"DELETE"})}async initializeCampaign(e,t,r){return await this.request(`/campaigns/${e}/initialize`,{method:"POST",body:JSON.stringify({sessionId:t,characterIds:r})})}async getCharacters(){return[]}async getCharactersByCampaign(e){return await this.request(`/characters/campaign/${e}`)}async getCharacter(e){return await this.request(`/characters/${e}`)}async createCharacter(e){return this.request("/characters/simple",{method:"POST",body:JSON.stringify(e)})}async updateCharacter(e,t){let r=process.env.BACKEND_URL||process.env.NEXT_PUBLIC_API_URL;if(!r)throw Error("BACKEND_URL or NEXT_PUBLIC_API_URL environment variable is required");let a=await fetch(`${r}/api/characters/${e}`,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(t)});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);return await a.json()}async deleteCharacter(e){return this.request(`/characters/${e}`,{method:"DELETE"})}async getSessionsByCampaign(e){return(await this.request(`/sessions/campaign/${e}`)).sessions.map(to)}async getSession(e){return to(await this.request(`/sessions/${e}`))}async createSession(e){return this.request("/sessions",{method:"POST",body:JSON.stringify(e)})}async updateSession(e,t){return this.request(`/sessions/${e}`,{method:"PUT",body:JSON.stringify(t)})}async deleteSession(e){return this.request(`/sessions/${e}`,{method:"DELETE"})}async createAutomaticSession(e,t,r){return this.request("/sessions/auto-create",{method:"POST",body:JSON.stringify({campaignId:e,characterId:t,sessionId:r})})}async updateSessionActivity(e){return this.request(`/sessions/${e}/activity`,{method:"POST"})}async closeInactiveSessions(){return this.request("/sessions/close-inactive",{method:"POST"})}async getLocations(){return[]}async getLocationsByCampaign(e){let t=await this.request(`/locations/campaign/${e}`);return t.locations?.map(tl)||[]}async getLocation(e){return tl(await this.request(`/locations/${e}`))}async createLocation(e){return this.request("/locations",{method:"POST",body:JSON.stringify(e)})}async updateLocation(e,t){let r=process.env.BACKEND_URL||process.env.NEXT_PUBLIC_API_URL;if(!r)throw Error("BACKEND_URL or NEXT_PUBLIC_API_URL environment variable is required");let a=await fetch(`${r}/api/locations/${e}`,{method:"PUT",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},body:JSON.stringify(t)});if(!a.ok)throw Error(`HTTP error! status: ${a.status}`);return await a.json()}async deleteLocation(e){return this.request(`/locations/${e}`,{method:"DELETE"})}}let tu=new td;function tm({className:e,type:t,...r}){return(0,s.jsx)("input",{type:t,"data-slot":"input",className:er("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}var th=i.forwardRef((e,t)=>(0,s.jsx)(eA.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));function tp({className:e,...t}){return(0,s.jsx)(th,{"data-slot":"label",className:er("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}th.displayName="Label";let tf=i.forwardRef(({className:e,...t},r)=>(0,s.jsx)("textarea",{className:er("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));function tx(e,[t,r]){return Math.min(r,Math.max(t,e))}tf.displayName="Textarea";var tg="dismissableLayer.update",tv=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ty=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:l,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...u}=e,m=i.useContext(tv),[h,p]=i.useState(null),f=h?.ownerDocument??globalThis?.document,[,x]=i.useState({}),g=ev(t,e=>p(e)),v=Array.from(m.layers),[y]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),b=v.indexOf(y),j=h?v.indexOf(h):-1,w=m.layersWithOutsidePointerEventsDisabled.size>0,N=j>=b,C=function(e,t=globalThis?.document){let r=eL(e),a=i.useRef(!1),n=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!a.current){let a=function(){tj("dismissableLayer.pointerDownOutside",r,s,{discrete:!0})},s={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",n.current),n.current=a,t.addEventListener("click",n.current,{once:!0})):a()}else t.removeEventListener("click",n.current);a.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",e),t.removeEventListener("click",n.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{let t=e.target,r=[...m.branches].some(e=>e.contains(t));!N||r||(l?.(e),c?.(e),e.defaultPrevented||d?.())},f),k=function(e,t=globalThis?.document){let r=eL(e),a=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!a.current&&tj("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{let t=e.target;[...m.branches].some(e=>e.contains(t))||(o?.(e),c?.(e),e.defaultPrevented||d?.())},f);return function(e,t=globalThis?.document){let r=eL(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{j===m.layers.size-1&&(n?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},f),i.useEffect(()=>{if(h)return r&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(a=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(h)),m.layers.add(h),tb(),()=>{r&&1===m.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=a)}},[h,f,r,m]),i.useEffect(()=>()=>{h&&(m.layers.delete(h),m.layersWithOutsidePointerEventsDisabled.delete(h),tb())},[h,m]),i.useEffect(()=>{let e=()=>x({});return document.addEventListener(tg,e),()=>document.removeEventListener(tg,e)},[]),(0,s.jsx)(eA.div,{...u,ref:g,style:{pointerEvents:w?N?"auto":"none":void 0,...e.style},onFocusCapture:ep(e.onFocusCapture,k.onFocusCapture),onBlurCapture:ep(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ep(e.onPointerDownCapture,C.onPointerDownCapture)})});function tb(){let e=new CustomEvent(tg);document.dispatchEvent(e)}function tj(e,t,r,{discrete:a}){let n=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});if(t&&n.addEventListener(e,t,{once:!0}),a)n&&eP.flushSync(()=>n.dispatchEvent(s));else n.dispatchEvent(s)}ty.displayName="DismissableLayer",i.forwardRef((e,t)=>{let r=i.useContext(tv),a=i.useRef(null),n=ev(t,a);return i.useEffect(()=>{let e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,s.jsx)(eA.div,{...e,ref:n})}).displayName="DismissableLayerBranch";var tw=0;function tN(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tC="focusScope.autoFocusOnMount",tk="focusScope.autoFocusOnUnmount",tS={bubbles:!1,cancelable:!0},tE=i.forwardRef((e,t)=>{let{loop:r=!1,trapped:a=!1,onMountAutoFocus:n,onUnmountAutoFocus:l,...o}=e,[c,d]=i.useState(null),u=eL(n),m=eL(l),h=i.useRef(null),p=ev(t,e=>d(e)),f=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(a){let e=function(e){if(f.paused||!c)return;let t=e.target;c.contains(t)?h.current=t:tL(h.current,{select:!0})},t=function(e){if(f.paused||!c)return;let t=e.relatedTarget;null===t||c.contains(t)||tL(h.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&tL(c)});return c&&r.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,c,f.paused]),i.useEffect(()=>{if(c){tM.add(f);let e=document.activeElement;if(!c.contains(e)){let t=new CustomEvent(tC,tS);c.addEventListener(tC,u),c.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let a of e)if(tL(a,{select:t}),document.activeElement!==r)return}(tP(c).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&tL(c))}return()=>{c.removeEventListener(tC,u),setTimeout(()=>{let t=new CustomEvent(tk,tS);c.addEventListener(tk,m),c.dispatchEvent(t),t.defaultPrevented||tL(e??document.body,{select:!0}),c.removeEventListener(tk,m),tM.remove(f)},0)}}},[c,u,m,f]);let x=i.useCallback(e=>{if(!r&&!a||f.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){let t=e.currentTarget,[a,s]=function(e){let t=tP(e);return[tA(t,e),tA(t.reverse(),e)]}(t);a&&s?e.shiftKey||n!==s?e.shiftKey&&n===a&&(e.preventDefault(),r&&tL(s,{select:!0})):(e.preventDefault(),r&&tL(a,{select:!0})):n===t&&e.preventDefault()}},[r,a,f.paused]);return(0,s.jsx)(eA.div,{tabIndex:-1,...o,ref:p,onKeyDown:x})});function tP(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function tA(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function tL(e,{select:t=!1}={}){if(e&&e.focus){var r;let a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}tE.displayName="FocusScope";var tM=function(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=tT(e,t)).unshift(t)},remove(t){e=tT(e,t),e[0]?.resume()}}}();function tT(e,t){let r=[...e],a=r.indexOf(t);return -1!==a&&r.splice(a,1),r}let tD=["top","right","bottom","left"],tI=Math.min,tR=Math.max,tz=Math.round,tF=Math.floor,tO=e=>({x:e,y:e}),t$={left:"right",right:"left",bottom:"top",top:"bottom"},t_={start:"end",end:"start"};function tB(e,t){return"function"==typeof e?e(t):e}function tU(e){return e.split("-")[0]}function tq(e){return e.split("-")[1]}function tH(e){return"x"===e?"y":"x"}function tW(e){return"y"===e?"height":"width"}let tV=new Set(["top","bottom"]);function tK(e){return tV.has(tU(e))?"y":"x"}function tG(e){return e.replace(/start|end/g,e=>t_[e])}let tY=["left","right"],tX=["right","left"],tJ=["top","bottom"],tZ=["bottom","top"];function tQ(e){return e.replace(/left|right|bottom|top/g,e=>t$[e])}function t0(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function t1(e){let{x:t,y:r,width:a,height:n}=e;return{width:a,height:n,top:r,left:t,right:t+a,bottom:r+n,x:t,y:r}}function t2(e,t,r){let a,{reference:n,floating:s}=e,i=tK(t),l=tH(tK(t)),o=tW(l),c=tU(t),d="y"===i,u=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,h=n[o]/2-s[o]/2;switch(c){case"top":a={x:u,y:n.y-s.height};break;case"bottom":a={x:u,y:n.y+n.height};break;case"right":a={x:n.x+n.width,y:m};break;case"left":a={x:n.x-s.width,y:m};break;default:a={x:n.x,y:n.y}}switch(tq(t)){case"start":a[l]-=h*(r&&d?-1:1);break;case"end":a[l]+=h*(r&&d?-1:1)}return a}let t4=async(e,t,r)=>{let{placement:a="bottom",strategy:n="absolute",middleware:s=[],platform:i}=r,l=s.filter(Boolean),o=await (null==i.isRTL?void 0:i.isRTL(t)),c=await i.getElementRects({reference:e,floating:t,strategy:n}),{x:d,y:u}=t2(c,a,o),m=a,h={},p=0;for(let r=0;r<l.length;r++){let{name:s,fn:f}=l[r],{x:x,y:g,data:v,reset:y}=await f({x:d,y:u,initialPlacement:a,placement:m,strategy:n,middlewareData:h,rects:c,platform:i,elements:{reference:e,floating:t}});d=null!=x?x:d,u=null!=g?g:u,h={...h,[s]:{...h[s],...v}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(m=y.placement),y.rects&&(c=!0===y.rects?await i.getElementRects({reference:e,floating:t,strategy:n}):y.rects),{x:d,y:u}=t2(c,m,o)),r=-1)}return{x:d,y:u,placement:m,strategy:n,middlewareData:h}};async function t3(e,t){var r;void 0===t&&(t={});let{x:a,y:n,platform:s,rects:i,elements:l,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:h=0}=tB(t,e),p=t0(h),f=l[m?"floating"===u?"reference":"floating":u],x=t1(await s.getClippingRect({element:null==(r=await (null==s.isElement?void 0:s.isElement(f)))||r?f:f.contextElement||await (null==s.getDocumentElement?void 0:s.getDocumentElement(l.floating)),boundary:c,rootBoundary:d,strategy:o})),g="floating"===u?{x:a,y:n,width:i.floating.width,height:i.floating.height}:i.reference,v=await (null==s.getOffsetParent?void 0:s.getOffsetParent(l.floating)),y=await (null==s.isElement?void 0:s.isElement(v))&&await (null==s.getScale?void 0:s.getScale(v))||{x:1,y:1},b=t1(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:g,offsetParent:v,strategy:o}):g);return{top:(x.top-b.top+p.top)/y.y,bottom:(b.bottom-x.bottom+p.bottom)/y.y,left:(x.left-b.left+p.left)/y.x,right:(b.right-x.right+p.right)/y.x}}function t5(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function t6(e){return tD.some(t=>e[t]>=0)}let t8=new Set(["left","top"]);async function t7(e,t){let{placement:r,platform:a,elements:n}=e,s=await (null==a.isRTL?void 0:a.isRTL(n.floating)),i=tU(r),l=tq(r),o="y"===tK(r),c=t8.has(i)?-1:1,d=s&&o?-1:1,u=tB(t,e),{mainAxis:m,crossAxis:h,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return l&&"number"==typeof p&&(h="end"===l?-1*p:p),o?{x:h*d,y:m*c}:{x:m*c,y:h*d}}function t9(){return"undefined"!=typeof window}function re(e){return ra(e)?(e.nodeName||"").toLowerCase():"#document"}function rt(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function rr(e){var t;return null==(t=(ra(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function ra(e){return!!t9()&&(e instanceof Node||e instanceof rt(e).Node)}function rn(e){return!!t9()&&(e instanceof Element||e instanceof rt(e).Element)}function rs(e){return!!t9()&&(e instanceof HTMLElement||e instanceof rt(e).HTMLElement)}function ri(e){return!!t9()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof rt(e).ShadowRoot)}let rl=new Set(["inline","contents"]);function ro(e){let{overflow:t,overflowX:r,overflowY:a,display:n}=ry(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!rl.has(n)}let rc=new Set(["table","td","th"]),rd=[":popover-open",":modal"];function ru(e){return rd.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let rm=["transform","translate","scale","rotate","perspective"],rh=["transform","translate","scale","rotate","perspective","filter"],rp=["paint","layout","strict","content"];function rf(e){let t=rx(),r=rn(e)?ry(e):e;return rm.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||rh.some(e=>(r.willChange||"").includes(e))||rp.some(e=>(r.contain||"").includes(e))}function rx(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let rg=new Set(["html","body","#document"]);function rv(e){return rg.has(re(e))}function ry(e){return rt(e).getComputedStyle(e)}function rb(e){return rn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function rj(e){if("html"===re(e))return e;let t=e.assignedSlot||e.parentNode||ri(e)&&e.host||rr(e);return ri(t)?t.host:t}function rw(e,t,r){var a;void 0===t&&(t=[]),void 0===r&&(r=!0);let n=function e(t){let r=rj(t);return rv(r)?t.ownerDocument?t.ownerDocument.body:t.body:rs(r)&&ro(r)?r:e(r)}(e),s=n===(null==(a=e.ownerDocument)?void 0:a.body),i=rt(n);if(s){let e=rN(i);return t.concat(i,i.visualViewport||[],ro(n)?n:[],e&&r?rw(e):[])}return t.concat(n,rw(n,[],r))}function rN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function rC(e){let t=ry(e),r=parseFloat(t.width)||0,a=parseFloat(t.height)||0,n=rs(e),s=n?e.offsetWidth:r,i=n?e.offsetHeight:a,l=tz(r)!==s||tz(a)!==i;return l&&(r=s,a=i),{width:r,height:a,$:l}}function rk(e){return rn(e)?e:e.contextElement}function rS(e){let t=rk(e);if(!rs(t))return tO(1);let r=t.getBoundingClientRect(),{width:a,height:n,$:s}=rC(t),i=(s?tz(r.width):r.width)/a,l=(s?tz(r.height):r.height)/n;return i&&Number.isFinite(i)||(i=1),l&&Number.isFinite(l)||(l=1),{x:i,y:l}}let rE=tO(0);function rP(e){let t=rt(e);return rx()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:rE}function rA(e,t,r,a){var n;void 0===t&&(t=!1),void 0===r&&(r=!1);let s=e.getBoundingClientRect(),i=rk(e),l=tO(1);t&&(a?rn(a)&&(l=rS(a)):l=rS(e));let o=(void 0===(n=r)&&(n=!1),a&&(!n||a===rt(i))&&n)?rP(i):tO(0),c=(s.left+o.x)/l.x,d=(s.top+o.y)/l.y,u=s.width/l.x,m=s.height/l.y;if(i){let e=rt(i),t=a&&rn(a)?rt(a):a,r=e,n=rN(r);for(;n&&a&&t!==r;){let e=rS(n),t=n.getBoundingClientRect(),a=ry(n),s=t.left+(n.clientLeft+parseFloat(a.paddingLeft))*e.x,i=t.top+(n.clientTop+parseFloat(a.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=s,d+=i,n=rN(r=rt(n))}}return t1({width:u,height:m,x:c,y:d})}function rL(e,t){let r=rb(e).scrollLeft;return t?t.left+r:rA(rr(e)).left+r}function rM(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-rL(e,r),y:r.top+t.scrollTop}}let rT=new Set(["absolute","fixed"]);function rD(e,t,r){let a;if("viewport"===t)a=function(e,t){let r=rt(e),a=rr(e),n=r.visualViewport,s=a.clientWidth,i=a.clientHeight,l=0,o=0;if(n){s=n.width,i=n.height;let e=rx();(!e||e&&"fixed"===t)&&(l=n.offsetLeft,o=n.offsetTop)}let c=rL(a);if(c<=0){let e=a.ownerDocument,t=e.body,r=getComputedStyle(t),n="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,i=Math.abs(a.clientWidth-t.clientWidth-n);i<=25&&(s-=i)}else c<=25&&(s+=c);return{width:s,height:i,x:l,y:o}}(e,r);else if("document"===t)a=function(e){let t=rr(e),r=rb(e),a=e.ownerDocument.body,n=tR(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),s=tR(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),i=-r.scrollLeft+rL(e),l=-r.scrollTop;return"rtl"===ry(a).direction&&(i+=tR(t.clientWidth,a.clientWidth)-n),{width:n,height:s,x:i,y:l}}(rr(e));else if(rn(t))a=function(e,t){let r=rA(e,!0,"fixed"===t),a=r.top+e.clientTop,n=r.left+e.clientLeft,s=rs(e)?rS(e):tO(1),i=e.clientWidth*s.x,l=e.clientHeight*s.y;return{width:i,height:l,x:n*s.x,y:a*s.y}}(t,r);else{let r=rP(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return t1(a)}function rI(e){return"static"===ry(e).position}function rR(e,t){if(!rs(e)||"fixed"===ry(e).position)return null;if(t)return t(e);let r=e.offsetParent;return rr(e)===r&&(r=r.ownerDocument.body),r}function rz(e,t){var r;let a=rt(e);if(ru(e))return a;if(!rs(e)){let t=rj(e);for(;t&&!rv(t);){if(rn(t)&&!rI(t))return t;t=rj(t)}return a}let n=rR(e,t);for(;n&&(r=n,rc.has(re(r)))&&rI(n);)n=rR(n,t);return n&&rv(n)&&rI(n)&&!rf(n)?a:n||function(e){let t=rj(e);for(;rs(t)&&!rv(t);){if(rf(t))return t;if(ru(t))break;t=rj(t)}return null}(e)||a}let rF=async function(e){let t=this.getOffsetParent||rz,r=this.getDimensions,a=await r(e.floating);return{reference:function(e,t,r){let a=rs(t),n=rr(t),s="fixed"===r,i=rA(e,!0,s,t),l={scrollLeft:0,scrollTop:0},o=tO(0);if(a||!a&&!s){if(("body"!==re(t)||ro(n))&&(l=rb(t)),a){let e=rA(t,!0,s,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else n&&(o.x=rL(n))}s&&!a&&n&&(o.x=rL(n));let c=!n||a||s?tO(0):rM(n,l);return{x:i.left+l.scrollLeft-o.x-c.x,y:i.top+l.scrollTop-o.y-c.y,width:i.width,height:i.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}},rO={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:a,strategy:n}=e,s="fixed"===n,i=rr(a),l=!!t&&ru(t.floating);if(a===i||l&&s)return r;let o={scrollLeft:0,scrollTop:0},c=tO(1),d=tO(0),u=rs(a);if((u||!u&&!s)&&(("body"!==re(a)||ro(i))&&(o=rb(a)),rs(a))){let e=rA(a);c=rS(a),d.x=e.x+a.clientLeft,d.y=e.y+a.clientTop}let m=!i||u||s?tO(0):rM(i,o);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:rr,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:a,strategy:n}=e,s=[..."clippingAncestors"===r?ru(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let a=rw(e,[],!1).filter(e=>rn(e)&&"body"!==re(e)),n=null,s="fixed"===ry(e).position,i=s?rj(e):e;for(;rn(i)&&!rv(i);){let t=ry(i),r=rf(i);r||"fixed"!==t.position||(n=null),(s?!r&&!n:!r&&"static"===t.position&&!!n&&rT.has(n.position)||ro(i)&&!r&&function e(t,r){let a=rj(t);return!(a===r||!rn(a)||rv(a))&&("fixed"===ry(a).position||e(a,r))}(e,i))?a=a.filter(e=>e!==i):n=t,i=rj(i)}return t.set(e,a),a}(t,this._c):[].concat(r),a],i=s[0],l=s.reduce((e,r)=>{let a=rD(t,r,n);return e.top=tR(a.top,e.top),e.right=tI(a.right,e.right),e.bottom=tI(a.bottom,e.bottom),e.left=tR(a.left,e.left),e},rD(t,i,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:rz,getElementRects:rF,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=rC(e);return{width:t,height:r}},getScale:rS,isElement:rn,isRTL:function(e){return"rtl"===ry(e).direction}};function r$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let r_=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:a,placement:n,rects:s,platform:i,elements:l,middlewareData:o}=t,{element:c,padding:d=0}=tB(e,t)||{};if(null==c)return{};let u=t0(d),m={x:r,y:a},h=tH(tK(n)),p=tW(h),f=await i.getDimensions(c),x="y"===h,g=x?"clientHeight":"clientWidth",v=s.reference[p]+s.reference[h]-m[h]-s.floating[p],y=m[h]-s.reference[h],b=await (null==i.getOffsetParent?void 0:i.getOffsetParent(c)),j=b?b[g]:0;j&&await (null==i.isElement?void 0:i.isElement(b))||(j=l.floating[g]||s.floating[p]);let w=j/2-f[p]/2-1,N=tI(u[x?"top":"left"],w),C=tI(u[x?"bottom":"right"],w),k=j-f[p]-C,S=j/2-f[p]/2+(v/2-y/2),E=tR(N,tI(S,k)),P=!o.arrow&&null!=tq(n)&&S!==E&&s.reference[p]/2-(S<N?N:C)-f[p]/2<0,A=P?S<N?S-N:S-k:0;return{[h]:m[h]+A,data:{[h]:E,centerOffset:S-E-A,...P&&{alignmentOffset:A}},reset:P}}}),rB=(e,t,r)=>{let a=new Map,n={platform:rO,...r},s={...n.platform,_c:a};return t4(e,t,{...n,platform:s})};var rU="undefined"!=typeof document?i.useLayoutEffect:function(){};function rq(e,t){let r,a,n;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(a=r;0!=a--;)if(!rq(e[a],t[a]))return!1;return!0}if((r=(n=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(a=r;0!=a--;)if(!({}).hasOwnProperty.call(t,n[a]))return!1;for(a=r;0!=a--;){let r=n[a];if(("_owner"!==r||!e.$$typeof)&&!rq(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function rH(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function rW(e,t){let r=rH(e);return Math.round(t*r)/r}function rV(e){let t=i.useRef(e);return rU(()=>{t.current=e}),t}let rK=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:a}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?r_({element:r.current,padding:a}).fn(t):{}:r?r_({element:r,padding:a}).fn(t):{}}}),rG=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,a;let{x:n,y:s,placement:i,middlewareData:l}=t,o=await t7(t,e);return i===(null==(r=l.offset)?void 0:r.placement)&&null!=(a=l.arrow)&&a.alignmentOffset?{}:{x:n+o.x,y:s+o.y,data:{...o,placement:i}}}}}(e),options:[e,t]}),rY=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:a,placement:n}=t,{mainAxis:s=!0,crossAxis:i=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...o}=tB(e,t),c={x:r,y:a},d=await t3(t,o),u=tK(tU(n)),m=tH(u),h=c[m],p=c[u];if(s){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",r=h+d[e],a=h-d[t];h=tR(r,tI(h,a))}if(i){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=p+d[e],a=p-d[t];p=tR(r,tI(p,a))}let f=l.fn({...t,[m]:h,[u]:p});return{...f,data:{x:f.x-r,y:f.y-a,enabled:{[m]:s,[u]:i}}}}}}(e),options:[e,t]}),rX=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:a,placement:n,rects:s,middlewareData:i}=t,{offset:l=0,mainAxis:o=!0,crossAxis:c=!0}=tB(e,t),d={x:r,y:a},u=tK(n),m=tH(u),h=d[m],p=d[u],f=tB(l,t),x="number"==typeof f?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(o){let e="y"===m?"height":"width",t=s.reference[m]-s.floating[e]+x.mainAxis,r=s.reference[m]+s.reference[e]-x.mainAxis;h<t?h=t:h>r&&(h=r)}if(c){var g,v;let e="y"===m?"width":"height",t=t8.has(tU(n)),r=s.reference[u]-s.floating[e]+(t&&(null==(g=i.offset)?void 0:g[u])||0)+(t?0:x.crossAxis),a=s.reference[u]+s.reference[e]+(t?0:(null==(v=i.offset)?void 0:v[u])||0)-(t?x.crossAxis:0);p<r?p=r:p>a&&(p=a)}return{[m]:h,[u]:p}}}}(e),options:[e,t]}),rJ=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,a,n,s,i;let{placement:l,middlewareData:o,rects:c,initialPlacement:d,platform:u,elements:m}=t,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:f,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...y}=tB(e,t);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};let b=tU(l),j=tK(d),w=tU(d)===d,N=await (null==u.isRTL?void 0:u.isRTL(m.floating)),C=f||(w||!v?[tQ(d)]:function(e){let t=tQ(e);return[tG(e),t,tG(t)]}(d)),k="none"!==g;!f&&k&&C.push(...function(e,t,r,a){let n=tq(e),s=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?tX:tY;return t?tY:tX;case"left":case"right":return t?tJ:tZ;default:return[]}}(tU(e),"start"===r,a);return n&&(s=s.map(e=>e+"-"+n),t&&(s=s.concat(s.map(tG)))),s}(d,v,g,N));let S=[d,...C],E=await t3(t,y),P=[],A=(null==(a=o.flip)?void 0:a.overflows)||[];if(h&&P.push(E[b]),p){let e=function(e,t,r){void 0===r&&(r=!1);let a=tq(e),n=tH(tK(e)),s=tW(n),i="x"===n?a===(r?"end":"start")?"right":"left":"start"===a?"bottom":"top";return t.reference[s]>t.floating[s]&&(i=tQ(i)),[i,tQ(i)]}(l,c,N);P.push(E[e[0]],E[e[1]])}if(A=[...A,{placement:l,overflows:P}],!P.every(e=>e<=0)){let e=((null==(n=o.flip)?void 0:n.index)||0)+1,t=S[e];if(t&&("alignment"!==p||j===tK(t)||A.every(e=>tK(e.placement)!==j||e.overflows[0]>0)))return{data:{index:e,overflows:A},reset:{placement:t}};let r=null==(s=A.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!r)switch(x){case"bestFit":{let e=null==(i=A.filter(e=>{if(k){let t=tK(e.placement);return t===j||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(r=e);break}case"initialPlacement":r=d}if(l!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),rZ=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,a;let n,s;let{placement:i,rects:l,platform:o,elements:c}=t,{apply:d=()=>{},...u}=tB(e,t),m=await t3(t,u),h=tU(i),p=tq(i),f="y"===tK(i),{width:x,height:g}=l.floating;"top"===h||"bottom"===h?(n=h,s=p===(await (null==o.isRTL?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(s=h,n="end"===p?"top":"bottom");let v=g-m.top-m.bottom,y=x-m.left-m.right,b=tI(g-m[n],v),j=tI(x-m[s],y),w=!t.middlewareData.shift,N=b,C=j;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(C=y),null!=(a=t.middlewareData.shift)&&a.enabled.y&&(N=v),w&&!p){let e=tR(m.left,0),t=tR(m.right,0),r=tR(m.top,0),a=tR(m.bottom,0);f?C=x-2*(0!==e||0!==t?e+t:tR(m.left,m.right)):N=g-2*(0!==r||0!==a?r+a:tR(m.top,m.bottom))}await d({...t,availableWidth:C,availableHeight:N});let k=await o.getDimensions(c.floating);return x!==k.width||g!==k.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),rQ=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:a="referenceHidden",...n}=tB(e,t);switch(a){case"referenceHidden":{let e=t5(await t3(t,{...n,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:t6(e)}}}case"escaped":{let e=t5(await t3(t,{...n,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:t6(e)}}}default:return{}}}}}(e),options:[e,t]}),r0=(e,t)=>({...rK(e),options:[e,t]});var r1=i.forwardRef((e,t)=>{let{children:r,width:a=10,height:n=5,...i}=e;return(0,s.jsx)(eA.svg,{...i,ref:t,width:a,height:n,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,s.jsx)("polygon",{points:"0,0 30,0 15,10"})})});r1.displayName="Arrow";var r2="Popper",[r4,r3]=ef(r2),[r5,r6]=r4(r2),r8=e=>{let{__scopePopper:t,children:r}=e,[a,n]=i.useState(null);return(0,s.jsx)(r5,{scope:t,anchor:a,onAnchorChange:n,children:r})};r8.displayName=r2;var r7="PopperAnchor",r9=i.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:a,...n}=e,l=r6(r7,r),o=i.useRef(null),c=ev(t,o);return i.useEffect(()=>{l.onAnchorChange(a?.current||o.current)}),a?null:(0,s.jsx)(eA.div,{...n,ref:c})});r9.displayName=r7;var ae="PopperContent",[at,ar]=r4(ae),aa=i.forwardRef((e,t)=>{let{__scopePopper:r,side:a="bottom",sideOffset:n=0,align:l="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:x,...g}=e,v=r6(ae,r),[y,b]=i.useState(null),j=ev(t,e=>b(e)),[w,N]=i.useState(null),C=function(e){let[t,r]=i.useState(void 0);return eC(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,n;if(!Array.isArray(t)||!t.length)return;let s=t[0];if("borderBoxSize"in s){let e=s.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,n=t.blockSize}else a=e.offsetWidth,n=e.offsetHeight;r({width:a,height:n})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(w),k=C?.width??0,S=C?.height??0,E="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},P=Array.isArray(u)?u:[u],A=P.length>0,L={padding:E,boundary:P.filter(al),altBoundary:A},{refs:M,floatingStyles:T,placement:D,isPositioned:I,middlewareData:R}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:n,elements:{reference:s,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,m]=i.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=i.useState(a);rq(h,a)||p(a);let[f,x]=i.useState(null),[g,v]=i.useState(null),y=i.useCallback(e=>{e!==N.current&&(N.current=e,x(e))},[]),b=i.useCallback(e=>{e!==C.current&&(C.current=e,v(e))},[]),j=s||f,w=l||g,N=i.useRef(null),C=i.useRef(null),k=i.useRef(u),S=null!=c,E=rV(c),P=rV(n),A=rV(d),L=i.useCallback(()=>{if(!N.current||!C.current)return;let e={placement:t,strategy:r,middleware:h};P.current&&(e.platform=P.current),rB(N.current,C.current,e).then(e=>{let t={...e,isPositioned:!1!==A.current};M.current&&!rq(k.current,t)&&(k.current=t,eP.flushSync(()=>{m(t)}))})},[h,t,r,P,A]);rU(()=>{!1===d&&k.current.isPositioned&&(k.current.isPositioned=!1,m(e=>({...e,isPositioned:!1})))},[d]);let M=i.useRef(!1);rU(()=>(M.current=!0,()=>{M.current=!1}),[]),rU(()=>{if(j&&(N.current=j),w&&(C.current=w),j&&w){if(E.current)return E.current(j,w,L);L()}},[j,w,L,E,S]);let T=i.useMemo(()=>({reference:N,floating:C,setReference:y,setFloating:b}),[y,b]),D=i.useMemo(()=>({reference:j,floating:w}),[j,w]),I=i.useMemo(()=>{let e={position:r,left:0,top:0};if(!D.floating)return e;let t=rW(D.floating,u.x),a=rW(D.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+a+"px)",...rH(D.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:a}},[r,o,D.floating,u.x,u.y]);return i.useMemo(()=>({...u,update:L,refs:T,elements:D,floatingStyles:I}),[u,L,T,D,I])}({strategy:"fixed",placement:a+("center"!==l?"-"+l:""),whileElementsMounted:(...e)=>(function(e,t,r,a){let n;void 0===a&&(a={});let{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:c=!1}=a,d=rk(e),u=s||i?[...d?rw(d):[],...rw(t)]:[];u.forEach(e=>{s&&e.addEventListener("scroll",r,{passive:!0}),i&&e.addEventListener("resize",r)});let m=d&&o?function(e,t){let r,a=null,n=rr(e);function s(){var e;clearTimeout(r),null==(e=a)||e.disconnect(),a=null}return function i(l,o){void 0===l&&(l=!1),void 0===o&&(o=1),s();let c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:h}=c;if(l||t(),!m||!h)return;let p=tF(u),f=tF(n.clientWidth-(d+m)),x={rootMargin:-p+"px "+-f+"px "+-tF(n.clientHeight-(u+h))+"px "+-tF(d)+"px",threshold:tR(0,tI(1,o))||1},g=!0;function v(t){let a=t[0].intersectionRatio;if(a!==o){if(!g)return i();a?i(!1,a):r=setTimeout(()=>{i(!1,1e-7)},1e3)}1!==a||r$(c,e.getBoundingClientRect())||i(),g=!1}try{a=new IntersectionObserver(v,{...x,root:n.ownerDocument})}catch(e){a=new IntersectionObserver(v,x)}a.observe(e)}(!0),s}(d,r):null,h=-1,p=null;l&&(p=new ResizeObserver(e=>{let[a]=e;a&&a.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let f=c?rA(e):null;return c&&function t(){let a=rA(e);f&&!r$(f,a)&&r(),f=a,n=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{s&&e.removeEventListener("scroll",r),i&&e.removeEventListener("resize",r)}),null==m||m(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(n)}})(...e,{animationFrame:"always"===f}),elements:{reference:v.anchor},middleware:[rG({mainAxis:n+S,alignmentAxis:o}),d&&rY({mainAxis:!0,crossAxis:!1,limiter:"partial"===h?rX():void 0,...L}),d&&rJ({...L}),rZ({...L,apply:({elements:e,rects:t,availableWidth:r,availableHeight:a})=>{let{width:n,height:s}=t.reference,i=e.floating.style;i.setProperty("--radix-popper-available-width",`${r}px`),i.setProperty("--radix-popper-available-height",`${a}px`),i.setProperty("--radix-popper-anchor-width",`${n}px`),i.setProperty("--radix-popper-anchor-height",`${s}px`)}}),w&&r0({element:w,padding:c}),ao({arrowWidth:k,arrowHeight:S}),p&&rQ({strategy:"referenceHidden",...L})]}),[z,F]=ac(D),O=eL(x);eC(()=>{I&&O?.()},[I,O]);let $=R.arrow?.x,_=R.arrow?.y,B=R.arrow?.centerOffset!==0,[U,q]=i.useState();return eC(()=>{y&&q(window.getComputedStyle(y).zIndex)},[y]),(0,s.jsx)("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...T,transform:I?T.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:U,"--radix-popper-transform-origin":[R.transformOrigin?.x,R.transformOrigin?.y].join(" "),...R.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,s.jsx)(at,{scope:r,placedSide:z,onArrowChange:N,arrowX:$,arrowY:_,shouldHideArrow:B,children:(0,s.jsx)(eA.div,{"data-side":z,"data-align":F,...g,ref:j,style:{...g.style,animation:I?void 0:"none"}})})})});aa.displayName=ae;var an="PopperArrow",as={top:"bottom",right:"left",bottom:"top",left:"right"},ai=i.forwardRef(function(e,t){let{__scopePopper:r,...a}=e,n=ar(an,r),i=as[n.placedSide];return(0,s.jsx)("span",{ref:n.onArrowChange,style:{position:"absolute",left:n.arrowX,top:n.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[n.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[n.placedSide],visibility:n.shouldHideArrow?"hidden":void 0},children:(0,s.jsx)(r1,{...a,ref:t,style:{...a.style,display:"block"}})})});function al(e){return null!==e}ai.displayName=an;var ao=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:a,middlewareData:n}=t,s=n.arrow?.centerOffset!==0,i=s?0:e.arrowWidth,l=s?0:e.arrowHeight,[o,c]=ac(r),d={start:"0%",center:"50%",end:"100%"}[c],u=(n.arrow?.x??0)+i/2,m=(n.arrow?.y??0)+l/2,h="",p="";return"bottom"===o?(h=s?d:`${u}px`,p=`${-l}px`):"top"===o?(h=s?d:`${u}px`,p=`${a.floating.height+l}px`):"right"===o?(h=`${-l}px`,p=s?d:`${m}px`):"left"===o&&(h=`${a.floating.width+l}px`,p=s?d:`${m}px`),{data:{x:h,y:p}}}});function ac(e){let[t,r="center"]=e.split("-");return[t,r]}var ad=i.forwardRef((e,t)=>{let{container:r,...a}=e,[n,l]=i.useState(!1);eC(()=>l(!0),[]);let o=r||n&&globalThis?.document?.body;return o?eP.createPortal((0,s.jsx)(eA.div,{...a,ref:t}),o):null});ad.displayName="Portal";var au=i.forwardRef((e,t)=>(0,s.jsx)(eA.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));au.displayName="VisuallyHidden";var am=function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},ah=new WeakMap,ap=new WeakMap,af={},ax=0,ag=function(e){return e&&(e.host||ag(e.parentNode))},av=function(e,t,r,a){var n=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=ag(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});af[r]||(af[r]=new WeakMap);var s=af[r],i=[],l=new Set,o=new Set(n),c=function(e){!(!e||l.has(e))&&(l.add(e),c(e.parentNode))};n.forEach(c);var d=function(e){!(!e||o.has(e))&&Array.prototype.forEach.call(e.children,function(e){if(l.has(e))d(e);else try{var t=e.getAttribute(a),n=null!==t&&"false"!==t,o=(ah.get(e)||0)+1,c=(s.get(e)||0)+1;ah.set(e,o),s.set(e,c),i.push(e),1===o&&n&&ap.set(e,!0),1===c&&e.setAttribute(r,"true"),n||e.setAttribute(a,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),l.clear(),ax++,function(){i.forEach(function(e){var t=ah.get(e)-1,n=s.get(e)-1;ah.set(e,t),s.set(e,n),t||(ap.has(e)||e.removeAttribute(a),ap.delete(e)),n||e.removeAttribute(r)}),--ax||(ah=new WeakMap,ah=new WeakMap,ap=new WeakMap,af={})}},ay=function(e,t,r){void 0===r&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),n=t||am(e);return n?(a.push.apply(a,Array.from(n.querySelectorAll("[aria-live], script"))),av(a,n,r,"aria-hidden")):function(){return null}},ab=function(){return(ab=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};function aj(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,a=Object.getOwnPropertySymbols(e);n<a.length;n++)0>t.indexOf(a[n])&&Object.prototype.propertyIsEnumerable.call(e,a[n])&&(r[a[n]]=e[a[n]]);return r}Object.create;Object.create;var aw=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),aN="width-before-scroll-bar";function aC(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var ak="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,aS=new WeakMap;function aE(e){return e}var aP=function(e){void 0===e&&(e={});var t,r,a,n,s=(t=null,void 0===r&&(r=aE),a=[],n=!1,{read:function(){if(n)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:null},useMedium:function(e){var t=r(e,n);return a.push(t),function(){a=a.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(n=!0;a.length;){var t=a;a=[],t.forEach(e)}a={push:function(t){return e(t)},filter:function(){return a}}},assignMedium:function(e){n=!0;var t=[];if(a.length){var r=a;a=[],r.forEach(e),t=a}var s=function(){var r=t;t=[],r.forEach(e)},i=function(){return Promise.resolve().then(s)};i(),a={push:function(e){t.push(e),i()},filter:function(e){return t=t.filter(e),a}}}});return s.options=ab({async:!0,ssr:!1},e),s}(),aA=function(){},aL=i.forwardRef(function(e,t){var r,a,n,s,l=i.useRef(null),o=i.useState({onScrollCapture:aA,onWheelCapture:aA,onTouchMoveCapture:aA}),c=o[0],d=o[1],u=e.forwardProps,m=e.children,h=e.className,p=e.removeScrollBar,f=e.enabled,x=e.shards,g=e.sideCar,v=e.noRelative,y=e.noIsolation,b=e.inert,j=e.allowPinchZoom,w=e.as,N=e.gapMode,C=aj(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=(r=[l,t],a=function(e){return r.forEach(function(t){return aC(t,e)})},(n=(0,i.useState)(function(){return{value:null,callback:a,facade:{get current(){return n.value},set current(value){var e=n.value;e!==value&&(n.value=value,n.callback(value,e))}}}})[0]).callback=a,s=n.facade,ak(function(){var e=aS.get(s);if(e){var t=new Set(e),a=new Set(r),n=s.current;t.forEach(function(e){a.has(e)||aC(e,null)}),a.forEach(function(e){t.has(e)||aC(e,n)})}aS.set(s,r)},[r]),s),S=ab(ab({},C),c);return i.createElement(i.Fragment,null,f&&i.createElement(g,{sideCar:aP,removeScrollBar:p,shards:x,noRelative:v,noIsolation:y,inert:b,setCallbacks:d,allowPinchZoom:!!j,lockRef:l,gapMode:N}),u?i.cloneElement(i.Children.only(m),ab(ab({},S),{ref:k})):i.createElement(void 0===w?"div":w,ab({},S,{className:h,ref:k}),m))});aL.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},aL.classNames={fullWidth:aN,zeroRight:aw};var aM=function(e){var t=e.sideCar,r=aj(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw Error("Sidecar medium not found");return i.createElement(a,ab({},r))};aM.isSideCarExport=!0;var aT=function(){var e=0,t=null;return{add:function(a){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n||r.nc;return t&&e.setAttribute("nonce",t),e}())){var s,i;(s=t).styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a)),i=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(i)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},aD=function(){var e=aT();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},aI=function(){var e=aD();return function(t){return e(t.styles,t.dynamic),null}},aR={left:0,top:0,right:0,gap:0},az=function(e){return parseInt(e||"",10)||0},aF=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],a=t["padding"===e?"paddingTop":"marginTop"],n=t["padding"===e?"paddingRight":"marginRight"];return[az(r),az(a),az(n)]},aO=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return aR;var t=aF(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},a$=aI(),a_="data-scroll-locked",aB=function(e,t,r,a){var n=e.left,s=e.top,i=e.right,l=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(a,";\n   padding-right: ").concat(l,"px ").concat(a,";\n  }\n  body[").concat(a_,"] {\n    overflow: hidden ").concat(a,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(a,";"),"margin"===r&&"\n    padding-left: ".concat(n,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(i,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(l,"px ").concat(a,";\n    "),"padding"===r&&"padding-right: ".concat(l,"px ").concat(a,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(aw," {\n    right: ").concat(l,"px ").concat(a,";\n  }\n  \n  .").concat(aN," {\n    margin-right: ").concat(l,"px ").concat(a,";\n  }\n  \n  .").concat(aw," .").concat(aw," {\n    right: 0 ").concat(a,";\n  }\n  \n  .").concat(aN," .").concat(aN," {\n    margin-right: 0 ").concat(a,";\n  }\n  \n  body[").concat(a_,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(l,"px;\n  }\n")},aU=function(){var e=parseInt(document.body.getAttribute(a_)||"0",10);return isFinite(e)?e:0},aq=function(){i.useEffect(function(){return document.body.setAttribute(a_,(aU()+1).toString()),function(){var e=aU()-1;e<=0?document.body.removeAttribute(a_):document.body.setAttribute(a_,e.toString())}},[])},aH=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,n=void 0===a?"margin":a;aq();var s=i.useMemo(function(){return aO(n)},[n]);return i.createElement(a$,{styles:aB(s,!t,n,r?"":"!important")})},aW=!1;if("undefined"!=typeof window)try{var aV=Object.defineProperty({},"passive",{get:function(){return aW=!0,!0}});window.addEventListener("test",aV,aV),window.removeEventListener("test",aV,aV)}catch(e){aW=!1}var aK=!!aW&&{passive:!1},aG=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},aY=function(e,t){var r=t.ownerDocument,a=t;do{if("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&(a=a.host),aX(e,a)){var n=aJ(e,a);if(n[1]>n[2])return!0}a=a.parentNode}while(a&&a!==r.body);return!1},aX=function(e,t){return"v"===e?aG(t,"overflowY"):aG(t,"overflowX")},aJ=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},aZ=function(e,t,r,a,n){var s,i=(s=window.getComputedStyle(t).direction,"h"===e&&"rtl"===s?-1:1),l=i*a,o=r.target,c=t.contains(o),d=!1,u=l>0,m=0,h=0;do{if(!o)break;var p=aJ(e,o),f=p[0],x=p[1]-p[2]-i*f;(f||x)&&aX(e,o)&&(m+=x,h+=f);var g=o.parentNode;o=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return u&&(n&&1>Math.abs(m)||!n&&l>m)?d=!0:!u&&(n&&1>Math.abs(h)||!n&&-l>h)&&(d=!0),d},aQ=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},a0=function(e){return[e.deltaX,e.deltaY]},a1=function(e){return e&&"current"in e?e.current:e},a2=0,a4=[];let a3=(aP.useMedium(function(e){var t=i.useRef([]),r=i.useRef([0,0]),a=i.useRef(),n=i.useState(a2++)[0],s=i.useState(aI)[0],l=i.useRef(e);i.useEffect(function(){l.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(n));var t=(function(e,t,r){if(r||2==arguments.length)for(var a,n=0,s=t.length;n<s;n++)!a&&n in t||(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(a1),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(n))}),function(){document.body.classList.remove("block-interactivity-".concat(n)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(n))})}}},[e.inert,e.lockRef.current,e.shards]);var o=i.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var n,s=aQ(e),i=r.current,o="deltaX"in e?e.deltaX:i[0]-s[0],c="deltaY"in e?e.deltaY:i[1]-s[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=aY(u,d);if(!m)return!0;if(m?n=u:(n="v"===u?"h":"v",m=aY(u,d)),!m)return!1;if(!a.current&&"changedTouches"in e&&(o||c)&&(a.current=n),!n)return!0;var h=a.current||n;return aZ(h,t,e,"h"===h?o:c,!0)},[]),c=i.useCallback(function(e){if(a4.length&&a4[a4.length-1]===s){var r="deltaY"in e?a0(e):aQ(e),a=t.current.filter(function(t){var a;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(a=t.delta)[0]===r[0]&&a[1]===r[1]})[0];if(a&&a.should){e.cancelable&&e.preventDefault();return}if(!a){var n=(l.current.shards||[]).map(a1).filter(Boolean).filter(function(t){return t.contains(e.target)});(n.length>0?o(e,n[0]):!l.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=i.useCallback(function(e,r,a,n){var s={name:e,delta:r,target:a,should:n,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(a)};t.current.push(s),setTimeout(function(){t.current=t.current.filter(function(e){return e!==s})},1)},[]),u=i.useCallback(function(e){r.current=aQ(e),a.current=void 0},[]),m=i.useCallback(function(t){d(t.type,a0(t),t.target,o(t,e.lockRef.current))},[]),h=i.useCallback(function(t){d(t.type,aQ(t),t.target,o(t,e.lockRef.current))},[]);i.useEffect(function(){return a4.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,aK),document.addEventListener("touchmove",c,aK),document.addEventListener("touchstart",u,aK),function(){a4=a4.filter(function(e){return e!==s}),document.removeEventListener("wheel",c,aK),document.removeEventListener("touchmove",c,aK),document.removeEventListener("touchstart",u,aK)}},[]);var p=e.removeScrollBar,f=e.inert;return i.createElement(i.Fragment,null,f?i.createElement(s,{styles:"\n  .block-interactivity-".concat(n," {pointer-events: none;}\n  .allow-interactivity-").concat(n," {pointer-events: all;}\n")}):null,p?i.createElement(aH,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}),aM);var a5=i.forwardRef(function(e,t){return i.createElement(aL,ab({},e,{ref:t,sideCar:a3}))});a5.classNames=aL.classNames;var a6=[" ","Enter","ArrowUp","ArrowDown"],a8=[" ","Enter"],a7="Select",[a9,ne,nt]=eN(a7),[nr,na]=ef(a7,[nt,r3]),nn=r3(),[ns,ni]=nr(a7),[nl,no]=nr(a7),nc=e=>{let{__scopeSelect:t,children:r,open:a,defaultOpen:n,onOpenChange:l,value:o,defaultValue:c,onValueChange:d,dir:u,name:m,autoComplete:h,disabled:p,required:f,form:x}=e,g=nn(t),[v,y]=i.useState(null),[b,j]=i.useState(null),[w,N]=i.useState(!1),C=eD(u),[k=!1,S]=eM({prop:a,defaultProp:n,onChange:l}),[E,P]=eM({prop:o,defaultProp:c,onChange:d}),A=i.useRef(null),L=!v||x||!!v.closest("form"),[M,T]=i.useState(new Set),D=Array.from(M).map(e=>e.props.value).join(";");return(0,s.jsx)(r8,{...g,children:(0,s.jsxs)(ns,{required:f,scope:t,trigger:v,onTriggerChange:y,valueNode:b,onValueNodeChange:j,valueNodeHasChildren:w,onValueNodeHasChildrenChange:N,contentId:eE(),value:E,onValueChange:P,open:k,onOpenChange:S,dir:C,triggerPointerDownPosRef:A,disabled:p,children:[(0,s.jsx)(a9.Provider,{scope:t,children:(0,s.jsx)(nl,{scope:e.__scopeSelect,onNativeOptionAdd:i.useCallback(e=>{T(t=>new Set(t).add(e))},[]),onNativeOptionRemove:i.useCallback(e=>{T(t=>{let r=new Set(t);return r.delete(e),r})},[]),children:r})}),L?(0,s.jsxs)(nV,{"aria-hidden":!0,required:f,tabIndex:-1,name:m,autoComplete:h,value:E,onChange:e=>P(e.target.value),disabled:p,form:x,children:[void 0===E?(0,s.jsx)("option",{value:""}):null,Array.from(M)]},D):null]})})};nc.displayName=a7;var nd="SelectTrigger",nu=i.forwardRef((e,t)=>{let{__scopeSelect:r,disabled:a=!1,...n}=e,l=nn(r),o=ni(nd,r),c=o.disabled||a,d=ev(t,o.onTriggerChange),u=ne(r),m=i.useRef("touch"),[h,p,f]=nK(e=>{let t=u().filter(e=>!e.disabled),r=t.find(e=>e.value===o.value),a=nG(t,e,r);void 0!==a&&o.onValueChange(a.value)}),x=e=>{c||(o.onOpenChange(!0),f()),e&&(o.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,s.jsx)(r9,{asChild:!0,...l,children:(0,s.jsx)(eA.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":nW(o.value)?"":void 0,...n,ref:d,onClick:ep(n.onClick,e=>{e.currentTarget.focus(),"mouse"!==m.current&&x(e)}),onPointerDown:ep(n.onPointerDown,e=>{m.current=e.pointerType;let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(x(e),e.preventDefault())}),onKeyDown:ep(n.onKeyDown,e=>{let t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),(!t||" "!==e.key)&&a6.includes(e.key)&&(x(),e.preventDefault())})})})});nu.displayName=nd;var nm="SelectValue",nh=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:a,style:n,children:i,placeholder:l="",...o}=e,c=ni(nm,r),{onValueNodeHasChildrenChange:d}=c,u=void 0!==i,m=ev(t,c.onValueNodeChange);return eC(()=>{d(u)},[d,u]),(0,s.jsx)(eA.span,{...o,ref:m,style:{pointerEvents:"none"},children:nW(c.value)?(0,s.jsx)(s.Fragment,{children:l}):i})});nh.displayName=nm;var np=i.forwardRef((e,t)=>{let{__scopeSelect:r,children:a,...n}=e;return(0,s.jsx)(eA.span,{"aria-hidden":!0,...n,ref:t,children:a||"▼"})});np.displayName="SelectIcon";var nf=e=>(0,s.jsx)(ad,{asChild:!0,...e});nf.displayName="SelectPortal";var nx="SelectContent",ng=i.forwardRef((e,t)=>{let r=ni(nx,e.__scopeSelect),[a,n]=i.useState();return(eC(()=>{n(new DocumentFragment)},[]),r.open)?(0,s.jsx)(nb,{...e,ref:t}):a?eP.createPortal((0,s.jsx)(nv,{scope:e.__scopeSelect,children:(0,s.jsx)(a9.Slot,{scope:e.__scopeSelect,children:(0,s.jsx)("div",{children:e.children})})}),a):null});ng.displayName=nx;var[nv,ny]=nr(nx),nb=i.forwardRef((e,t)=>{let{__scopeSelect:r,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:l,onPointerDownOutside:o,side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v,...y}=e,b=ni(nx,r),[j,w]=i.useState(null),[N,C]=i.useState(null),k=ev(t,e=>w(e)),[S,E]=i.useState(null),[P,A]=i.useState(null),L=ne(r),[M,T]=i.useState(!1),D=i.useRef(!1);i.useEffect(()=>{if(j)return ay(j)},[j]),i.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tN()),document.body.insertAdjacentElement("beforeend",e[1]??tN()),tw++,()=>{1===tw&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tw--}},[]);let I=i.useCallback(e=>{let[t,...r]=L().map(e=>e.ref.current),[a]=r.slice(-1),n=document.activeElement;for(let r of e)if(r===n||(r?.scrollIntoView({block:"nearest"}),r===t&&N&&(N.scrollTop=0),r===a&&N&&(N.scrollTop=N.scrollHeight),r?.focus(),document.activeElement!==n))return},[L,N]),R=i.useCallback(()=>I([S,j]),[I,S,j]);i.useEffect(()=>{M&&R()},[M,R]);let{onOpenChange:z,triggerPointerDownPosRef:F}=b;i.useEffect(()=>{if(j){let e={x:0,y:0},t=t=>{e={x:Math.abs(Math.round(t.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(F.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():j.contains(r.target)||z(!1),document.removeEventListener("pointermove",t),F.current=null};return null!==F.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[j,z,F]),i.useEffect(()=>{let e=()=>z(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[z]);let[O,$]=nK(e=>{let t=L().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),a=nG(t,e,r);a&&setTimeout(()=>a.ref.current.focus())}),_=i.useCallback((e,t,r)=>{let a=!D.current&&!r;(void 0!==b.value&&b.value===t||a)&&(E(e),a&&(D.current=!0))},[b.value]),B=i.useCallback(()=>j?.focus(),[j]),U=i.useCallback((e,t,r)=>{let a=!D.current&&!r;(void 0!==b.value&&b.value===t||a)&&A(e)},[b.value]),q="popper"===a?nw:nj,H=q===nw?{side:c,sideOffset:d,align:u,alignOffset:m,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:x,hideWhenDetached:g,avoidCollisions:v}:{};return(0,s.jsx)(nv,{scope:r,content:j,viewport:N,onViewportChange:C,itemRefCallback:_,selectedItem:S,onItemLeave:B,itemTextRefCallback:U,focusSelectedItem:R,selectedItemText:P,position:a,isPositioned:M,searchRef:O,children:(0,s.jsx)(a5,{as:ey,allowPinchZoom:!0,children:(0,s.jsx)(tE,{asChild:!0,trapped:b.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:ep(n,e=>{b.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:(0,s.jsx)(ty,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:(0,s.jsx)(q,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:e=>e.preventDefault(),...y,...H,onPlaced:()=>T(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ep(y.onKeyDown,e=>{let t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||$(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=L().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){let r=e.target,a=t.indexOf(r);t=t.slice(a+1)}setTimeout(()=>I(t)),e.preventDefault()}})})})})})})});nb.displayName="SelectContentImpl";var nj=i.forwardRef((e,t)=>{let{__scopeSelect:r,onPlaced:a,...n}=e,l=ni(nx,r),o=ny(nx,r),[c,d]=i.useState(null),[u,m]=i.useState(null),h=ev(t,e=>m(e)),p=ne(r),f=i.useRef(!1),x=i.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:b}=o,j=i.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&u&&g&&v&&y){let e=l.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=l.valueNode.getBoundingClientRect(),n=y.getBoundingClientRect();if("rtl"!==l.dir){let a=n.left-t.left,s=r.left-a,i=e.left-s,l=e.width+i,o=Math.max(l,t.width),d=tx(s,[10,Math.max(10,window.innerWidth-10-o)]);c.style.minWidth=l+"px",c.style.left=d+"px"}else{let a=t.right-n.right,s=window.innerWidth-r.right-a,i=window.innerWidth-e.right-s,l=e.width+i,o=Math.max(l,t.width),d=tx(s,[10,Math.max(10,window.innerWidth-10-o)]);c.style.minWidth=l+"px",c.style.right=d+"px"}let s=p(),i=window.innerHeight-20,o=g.scrollHeight,d=window.getComputedStyle(u),m=parseInt(d.borderTopWidth,10),h=parseInt(d.paddingTop,10),x=parseInt(d.borderBottomWidth,10),b=m+h+o+parseInt(d.paddingBottom,10)+x,j=Math.min(5*v.offsetHeight,b),w=window.getComputedStyle(g),N=parseInt(w.paddingTop,10),C=parseInt(w.paddingBottom,10),k=e.top+e.height/2-10,S=v.offsetHeight/2,E=m+h+(v.offsetTop+S);if(E<=k){let e=s.length>0&&v===s[s.length-1].ref.current;c.style.bottom="0px";let t=Math.max(i-k,S+(e?C:0)+(u.clientHeight-g.offsetTop-g.offsetHeight)+x);c.style.height=E+t+"px"}else{let e=s.length>0&&v===s[0].ref.current;c.style.top="0px";let t=Math.max(k,m+g.offsetTop+(e?N:0)+S);c.style.height=t+(b-E)+"px",g.scrollTop=E-k+g.offsetTop}c.style.margin="10px 0",c.style.minHeight=j+"px",c.style.maxHeight=i+"px",a?.(),requestAnimationFrame(()=>f.current=!0)}},[p,l.trigger,l.valueNode,c,u,g,v,y,l.dir,a]);eC(()=>j(),[j]);let[w,N]=i.useState();eC(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);let C=i.useCallback(e=>{e&&!0===x.current&&(j(),b?.(),x.current=!1)},[j,b]);return(0,s.jsx)(nN,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:f,onScrollButtonChange:C,children:(0,s.jsx)("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:w},children:(0,s.jsx)(eA.div,{...n,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});nj.displayName="SelectItemAlignedPosition";var nw=i.forwardRef((e,t)=>{let{__scopeSelect:r,align:a="start",collisionPadding:n=10,...i}=e,l=nn(r);return(0,s.jsx)(aa,{...l,...i,ref:t,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nw.displayName="SelectPopperPosition";var[nN,nC]=nr(nx,{}),nk="SelectViewport",nS=i.forwardRef((e,t)=>{let{__scopeSelect:r,nonce:a,...n}=e,l=ny(nk,r),o=nC(nk,r),c=ev(t,l.onViewportChange),d=i.useRef(0);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:a}),(0,s.jsx)(a9.Slot,{scope:r,children:(0,s.jsx)(eA.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:ep(n.onScroll,e=>{let t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:a}=o;if(a?.current&&r){let e=Math.abs(d.current-t.scrollTop);if(e>0){let a=window.innerHeight-20,n=Math.max(parseFloat(r.style.minHeight),parseFloat(r.style.height));if(n<a){let s=n+e,i=Math.min(a,s),l=s-i;r.style.height=i+"px","0px"===r.style.bottom&&(t.scrollTop=l>0?l:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});nS.displayName=nk;var nE="SelectGroup",[nP,nA]=nr(nE);i.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e,n=eE();return(0,s.jsx)(nP,{scope:r,id:n,children:(0,s.jsx)(eA.div,{role:"group","aria-labelledby":n,...a,ref:t})})}).displayName=nE;var nL="SelectLabel";i.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e,n=nA(nL,r);return(0,s.jsx)(eA.div,{id:n.id,...a,ref:t})}).displayName=nL;var nM="SelectItem",[nT,nD]=nr(nM),nI=i.forwardRef((e,t)=>{let{__scopeSelect:r,value:a,disabled:n=!1,textValue:l,...o}=e,c=ni(nM,r),d=ny(nM,r),u=c.value===a,[m,h]=i.useState(l??""),[p,f]=i.useState(!1),x=ev(t,e=>d.itemRefCallback?.(e,a,n)),g=eE(),v=i.useRef("touch"),y=()=>{n||(c.onValueChange(a),c.onOpenChange(!1))};if(""===a)throw Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,s.jsx)(nT,{scope:r,value:a,disabled:n,textId:g,isSelected:u,onItemTextChange:i.useCallback(e=>{h(t=>t||(e?.textContent??"").trim())},[]),children:(0,s.jsx)(a9.ItemSlot,{scope:r,value:a,disabled:n,textValue:m,children:(0,s.jsx)(eA.div,{role:"option","aria-labelledby":g,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...o,ref:x,onFocus:ep(o.onFocus,()=>f(!0)),onBlur:ep(o.onBlur,()=>f(!1)),onClick:ep(o.onClick,()=>{"mouse"!==v.current&&y()}),onPointerUp:ep(o.onPointerUp,()=>{"mouse"===v.current&&y()}),onPointerDown:ep(o.onPointerDown,e=>{v.current=e.pointerType}),onPointerMove:ep(o.onPointerMove,e=>{v.current=e.pointerType,n?d.onItemLeave?.():"mouse"===v.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ep(o.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:ep(o.onKeyDown,e=>{(d.searchRef?.current===""||" "!==e.key)&&(a8.includes(e.key)&&y()," "===e.key&&e.preventDefault())})})})})});nI.displayName=nM;var nR="SelectItemText",nz=i.forwardRef((e,t)=>{let{__scopeSelect:r,className:a,style:n,...l}=e,o=ni(nR,r),c=ny(nR,r),d=nD(nR,r),u=no(nR,r),[m,h]=i.useState(null),p=ev(t,e=>h(e),d.onItemTextChange,e=>c.itemTextRefCallback?.(e,d.value,d.disabled)),f=m?.textContent,x=i.useMemo(()=>(0,s.jsx)("option",{value:d.value,disabled:d.disabled,children:f},d.value),[d.disabled,d.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=u;return eC(()=>(g(x),()=>v(x)),[g,v,x]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eA.span,{id:d.textId,...l,ref:p}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?eP.createPortal(l.children,o.valueNode):null]})});nz.displayName=nR;var nF="SelectItemIndicator",nO=i.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e;return nD(nF,r).isSelected?(0,s.jsx)(eA.span,{"aria-hidden":!0,...a,ref:t}):null});nO.displayName=nF;var n$="SelectScrollUpButton",n_=i.forwardRef((e,t)=>{let r=ny(n$,e.__scopeSelect),a=nC(n$,e.__scopeSelect),[n,l]=i.useState(!1),o=ev(t,a.onScrollButtonChange);return eC(()=>{if(r.viewport&&r.isPositioned){let e=function(){l(t.scrollTop>0)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),n?(0,s.jsx)(nq,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});n_.displayName=n$;var nB="SelectScrollDownButton",nU=i.forwardRef((e,t)=>{let r=ny(nB,e.__scopeSelect),a=nC(nB,e.__scopeSelect),[n,l]=i.useState(!1),o=ev(t,a.onScrollButtonChange);return eC(()=>{if(r.viewport&&r.isPositioned){let e=function(){let e=t.scrollHeight-t.clientHeight;l(Math.ceil(t.scrollTop)<e)},t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[r.viewport,r.isPositioned]),n?(0,s.jsx)(nq,{...e,ref:o,onAutoScroll:()=>{let{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});nU.displayName=nB;var nq=i.forwardRef((e,t)=>{let{__scopeSelect:r,onAutoScroll:a,...n}=e,l=ny("SelectScrollButton",r),o=i.useRef(null),c=ne(r),d=i.useCallback(()=>{null!==o.current&&(window.clearInterval(o.current),o.current=null)},[]);return i.useEffect(()=>()=>d(),[d]),eC(()=>{let e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),(0,s.jsx)(eA.div,{"aria-hidden":!0,...n,ref:t,style:{flexShrink:0,...n.style},onPointerDown:ep(n.onPointerDown,()=>{null===o.current&&(o.current=window.setInterval(a,50))}),onPointerMove:ep(n.onPointerMove,()=>{l.onItemLeave?.(),null===o.current&&(o.current=window.setInterval(a,50))}),onPointerLeave:ep(n.onPointerLeave,()=>{d()})})});i.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e;return(0,s.jsx)(eA.div,{"aria-hidden":!0,...a,ref:t})}).displayName="SelectSeparator";var nH="SelectArrow";function nW(e){return""===e||void 0===e}i.forwardRef((e,t)=>{let{__scopeSelect:r,...a}=e,n=nn(r),i=ni(nH,r),l=ny(nH,r);return i.open&&"popper"===l.position?(0,s.jsx)(ai,{...n,...a,ref:t}):null}).displayName=nH;var nV=i.forwardRef((e,t)=>{let{value:r,...a}=e,n=i.useRef(null),l=ev(t,n),o=function(e){let t=i.useRef({value:e,previous:e});return i.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(r);return i.useEffect(()=>{let e=n.current,t=Object.getOwnPropertyDescriptor(window.HTMLSelectElement.prototype,"value").set;if(o!==r&&t){let a=new Event("change",{bubbles:!0});t.call(e,r),e.dispatchEvent(a)}},[o,r]),(0,s.jsx)(au,{asChild:!0,children:(0,s.jsx)("select",{...a,ref:l,defaultValue:r})})});function nK(e){let t=eL(e),r=i.useRef(""),a=i.useRef(0),n=i.useCallback(e=>{let n=r.current+e;t(n),function e(t){r.current=t,window.clearTimeout(a.current),""!==t&&(a.current=window.setTimeout(()=>e(""),1e3))}(n)},[t]),s=i.useCallback(()=>{r.current="",window.clearTimeout(a.current)},[]);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),[r,n,s]}function nG(e,t,r){var a,n;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=r?e.indexOf(r):-1,l=(a=e,n=Math.max(i,0),a.map((e,t)=>a[(n+t)%a.length]));1===s.length&&(l=l.filter(e=>e!==r));let o=l.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return o!==r?o:void 0}nV.displayName="BubbleSelect";let nY=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nX=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var nJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let nZ=(0,i.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:a,className:n="",children:s,iconNode:l,...o},c)=>(0,i.createElement)("svg",{ref:c,...nJ,width:t,height:t,stroke:e,strokeWidth:a?24*Number(r)/Number(t):r,className:nX("lucide",n),...o},[...l.map(([e,t])=>(0,i.createElement)(e,t)),...Array.isArray(s)?s:[s]])),nQ=(e,t)=>{let r=(0,i.forwardRef)(({className:r,...a},n)=>(0,i.createElement)(nZ,{ref:n,iconNode:t,className:nX(`lucide-${nY(e)}`,r),...a}));return r.displayName=`${e}`,r},n0=nQ("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),n1=nQ("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),n2=nQ("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function n4({...e}){return(0,s.jsx)(nc,{"data-slot":"select",...e})}function n3({...e}){return(0,s.jsx)(nh,{"data-slot":"select-value",...e})}function n5({className:e,size:t="default",children:r,...a}){return(0,s.jsxs)(nu,{"data-slot":"select-trigger","data-size":t,className:er("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...a,children:[r,(0,s.jsx)(np,{asChild:!0,children:(0,s.jsx)(n0,{className:"size-4 opacity-50"})})]})}function n6({className:e,children:t,position:r="popper",...a}){return(0,s.jsx)(nf,{children:(0,s.jsxs)(ng,{"data-slot":"select-content",className:er("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...a,children:[(0,s.jsx)(n7,{}),(0,s.jsx)(nS,{className:er("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,s.jsx)(n9,{})]})})}function n8({className:e,children:t,...r}){return(0,s.jsxs)(nI,{"data-slot":"select-item",className:er("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...r,children:[(0,s.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,s.jsx)(nO,{children:(0,s.jsx)(n1,{className:"size-4"})})}),(0,s.jsx)(nz,{children:t})]})}function n7({className:e,...t}){return(0,s.jsx)(n_,{"data-slot":"select-scroll-up-button",className:er("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(n2,{className:"size-4"})})}function n9({className:e,...t}){return(0,s.jsx)(nU,{"data-slot":"select-scroll-down-button",className:er("flex cursor-default items-center justify-center py-1",e),...t,children:(0,s.jsx)(n0,{className:"size-4"})})}let se=ec("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function st({className:e,variant:t,...r}){return(0,s.jsx)("div",{"data-slot":"alert",role:"alert",className:er(se({variant:t}),e),...r})}function sr({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"alert-description",className:er("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}let sa=nQ("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),sn=nQ("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),ss=nQ("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),si=nQ("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]),sl=nQ("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),so=[{value:"fantasy",label:"Fantasy"},{value:"sci-fi",label:"Sci-Fi"},{value:"horror",label:"Horror"},{value:"mystery",label:"Mystery"},{value:"western",label:"Western"},{value:"cyberpunk",label:"Cyberpunk"},{value:"steampunk",label:"Steampunk"},{value:"post-apocalyptic",label:"Post-Apocalyptic"},{value:"medieval",label:"Medieval"},{value:"modern",label:"Modern"},{value:"futuristic",label:"Futuristic"},{value:"space",label:"Space"},{value:"underwater",label:"Underwater"},{value:"desert",label:"Desert"},{value:"arctic",label:"Arctic"},{value:"tropical",label:"Tropical"}];function sc({campaign:e,onSave:t,onCancel:r,isSaving:a}){let[n,l]=(0,i.useState)({name:e?.name||"",description:e?.description||"",theme:e?.theme||"",status:e?.status??"active",createdBy:"player"}),[o,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)("idle"),[m,h]=(0,i.useState)(""),p=void 0!==a?a:o,f=async r=>{if(r.preventDefault(),void 0!==a){t({...n,id:e?.id,createdAt:e?.createdAt,updatedAt:new Date});return}try{c(!0),u("idle"),h(""),await t({...n,id:e?.id,createdAt:e?.createdAt,updatedAt:new Date}),u("success"),h(e?"Campaign updated successfully!":"Campaign created successfully!"),setTimeout(()=>{u("idle"),h("")},3e3)}catch(e){u("error"),h(e instanceof Error?e.message:"Failed to save campaign"),setTimeout(()=>{u("error"),h("")},5e3)}finally{c(!1)}};return(0,s.jsxs)(ea,{className:"w-full max-w-2xl mx-auto",children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{children:e?"Edit Campaign":"Create New Campaign"}),(0,s.jsx)(ei,{children:e?"Update your campaign details":"Set up a new D&D adventure"})]}),(0,s.jsxs)(el,{children:["success"===d&&(0,s.jsxs)(st,{className:"mb-4 border-green-200 bg-green-50",children:[(0,s.jsx)(sa,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)(sr,{className:"text-green-800",children:m})]}),"error"===d&&(0,s.jsxs)(st,{className:"mb-4 border-red-200 bg-red-50",children:[(0,s.jsx)(sn,{className:"h-4 w-4 text-red-600"}),(0,s.jsx)(sr,{className:"text-red-800",children:m})]}),(0,s.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"name",children:"Campaign Name"}),(0,s.jsx)(tm,{id:"name",value:n.name,onChange:e=>l({...n,name:e.target.value}),placeholder:"Enter campaign name...",required:!0,disabled:p})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"description",children:"Description"}),(0,s.jsx)(tf,{id:"description",value:n.description,onChange:e=>l({...n,description:e.target.value}),placeholder:"Describe your campaign...",rows:4,required:!0,disabled:p})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"theme",children:"Campaign Theme"}),(0,s.jsxs)(n4,{value:n.theme,onValueChange:e=>l({...n,theme:e}),required:!0,disabled:p,children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Select a campaign theme..."})}),(0,s.jsx)(n6,{children:so.map(e=>(0,s.jsx)(n8,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"status",checked:"active"===n.status,onChange:e=>l({...n,status:e.target.checked?"active":"paused"}),className:"rounded border-border",disabled:p}),(0,s.jsx)(tp,{htmlFor:"status",children:"Active Campaign"}),(0,s.jsx)(eh,{variant:"active"===n.status?"default":"secondary",children:"active"===n.status?"Active":"Paused"})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)(eu,{type:"submit",className:"flex-1",disabled:p,children:p?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ss,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Updating...":"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(si,{className:"h-4 w-4 mr-2"}),e?"Update Campaign":"Create Campaign"]})}),(0,s.jsxs)(eu,{type:"button",variant:"outline",onClick:r,disabled:p,children:[(0,s.jsx)(sl,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})]})]})}let sd=nQ("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),su=["Human","Elf","Dwarf","Halfling","Dragonborn","Gnome","Half-Elf","Half-Orc","Tiefling","Aasimar","Genasi","Goliath","Tabaxi"],sm=["Barbarian","Bard","Cleric","Druid","Fighter","Monk","Paladin","Ranger","Rogue","Sorcerer","Warlock","Wizard","Artificer"],sh=["Acolyte","Criminal","Folk Hero","Noble","Sage","Soldier","Charlatan","Entertainer","Guild Artisan","Hermit","Outlander","Sailor"],sp=["Lawful Good","Neutral Good","Chaotic Good","Lawful Neutral","True Neutral","Chaotic Neutral","Lawful Evil","Neutral Evil","Chaotic Evil"],sf=["Acrobatics","Animal Handling","Arcana","Athletics","Deception","History","Insight","Intimidation","Investigation","Medicine","Nature","Perception","Performance","Persuasion","Religion","Sleight of Hand","Stealth","Survival"];function sx({character:e,onSave:t,onCancel:r,campaignId:a,sessionId:n,isSaving:l,campaigns:o}){let[c,d]=(0,i.useState)({name:e?.name||"",race:e?.race||"",class:e?.class||"",level:e?.level||1,background:e?.background||"",alignment:e?.alignment||"",currentLocation:e?.currentLocation||"",hitPoints:{current:e?.hitPoints?.current||8,maximum:e?.hitPoints?.maximum||8},armorClass:e?.armorClass||10,attributes:e?.attributes||{strength:10,dexterity:10,constitution:10,intelligence:10,wisdom:10,charisma:10},skills:e?.skills||[],traits:e?.personality?.traits||[],ideals:e?.personality?.ideals||[],bonds:e?.personality?.bonds||[],flaws:e?.personality?.flaws||[],equipment:e?.equipment||[],spells:e?.spells||[],backstory:e?.backstory||""}),[u,m]=(0,i.useState)(a||""),[h,p]=(0,i.useState)(!a&&!!o?.length),f=e=>Math.floor((e-10)/2),x=e=>{let t=c.skills.includes(e)?c.skills.filter(t=>t!==e):[...c.skills,e];d({...c,skills:t})};return(0,s.jsxs)(ea,{className:"w-full max-w-4xl mx-auto",children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{children:e?"Edit Character":"Create New Character"}),(0,s.jsx)(ei,{children:e?"Update your character details":"Build your D&D character"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("form",{onSubmit:r=>{if(r.preventDefault(),!u){alert("Please select a campaign for your character");return}t({...c,id:e?.id||crypto.randomUUID(),createdAt:e?.createdAt||new Date,updatedAt:new Date,campaignId:u,sessionId:n||"",createdBy:"user",attributes:c.attributes,personality:{traits:c.traits,ideals:c.ideals,bonds:c.bonds,flaws:c.flaws,background:c.background,alignment:c.alignment}})},className:"space-y-6",children:[h&&o&&o.length>0&&(0,s.jsx)("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/50",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"campaign",children:"Select Campaign"}),(0,s.jsxs)(n4,{value:u,onValueChange:m,children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Choose a campaign for your character"})}),(0,s.jsx)(n6,{children:o.map(e=>(0,s.jsx)(n8,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)(eh,{variant:"outline",className:"text-xs",children:e.theme||"Custom"})]})},e.id))})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Your character will be created in the selected campaign world."})]})}),(0,s.jsxs)(ta,{defaultValue:"basic",className:"space-y-4",children:[(0,s.jsxs)(tn,{className:"grid w-full grid-cols-4",children:[(0,s.jsx)(ts,{value:"basic",children:"Basic Info"}),(0,s.jsx)(ts,{value:"stats",children:"Stats & Skills"}),(0,s.jsx)(ts,{value:"personality",children:"Personality"}),(0,s.jsx)(ts,{value:"equipment",children:"Equipment"}),(0,s.jsx)(ts,{value:"backstory",children:"Backstory"})]}),(0,s.jsxs)(ti,{value:"basic",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"name",children:"Character Name"}),(0,s.jsx)(tm,{id:"name",value:c.name,onChange:e=>d({...c,name:e.target.value}),placeholder:"Enter character name...",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"level",children:"Level"}),(0,s.jsx)(tm,{id:"level",type:"number",min:"1",max:"20",value:c.level,onChange:e=>d({...c,level:Number.parseInt(e.target.value)||1})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"race",children:"Race"}),(0,s.jsxs)(n4,{value:c.race,onValueChange:e=>d({...c,race:e}),children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Select race..."})}),(0,s.jsx)(n6,{children:su.map(e=>(0,s.jsx)(n8,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"class",children:"Class"}),(0,s.jsxs)(n4,{value:c.class,onValueChange:e=>d({...c,class:e}),children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Select class..."})}),(0,s.jsx)(n6,{children:sm.map(e=>(0,s.jsx)(n8,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"background",children:"Background"}),(0,s.jsxs)(n4,{value:c.background,onValueChange:e=>d({...c,background:e}),children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Select background..."})}),(0,s.jsx)(n6,{children:sh.map(e=>(0,s.jsx)(n8,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"alignment",children:"Alignment"}),(0,s.jsxs)(n4,{value:c.alignment,onValueChange:e=>d({...c,alignment:e}),children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Select alignment..."})}),(0,s.jsx)(n6,{children:sp.map(e=>(0,s.jsx)(n8,{value:e,children:e},e))})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"currentLocation",children:"Current Location"}),(0,s.jsx)(tm,{id:"currentLocation",value:c.currentLocation,onChange:e=>d({...c,currentLocation:e.target.value}),placeholder:"Where is your character currently located?"})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"hp-current",children:"Current HP"}),(0,s.jsx)(tm,{id:"hp-current",type:"number",min:"0",value:c.hitPoints.current,onChange:e=>d({...c,hitPoints:{...c.hitPoints,current:Number.parseInt(e.target.value)||0}})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"hp-max",children:"Maximum HP"}),(0,s.jsx)(tm,{id:"hp-max",type:"number",min:"1",value:c.hitPoints.maximum,onChange:e=>d({...c,hitPoints:{...c.hitPoints,maximum:Number.parseInt(e.target.value)||1}})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"ac",children:"Armor Class"}),(0,s.jsx)(tm,{id:"ac",type:"number",min:"1",value:c.armorClass,onChange:e=>d({...c,armorClass:Number.parseInt(e.target.value)||10})})]})]})]}),(0,s.jsxs)(ti,{value:"stats",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Ability Scores"}),(0,s.jsxs)(eu,{type:"button",variant:"outline",onClick:()=>{let e=()=>{let e=Array.from({length:4},()=>Math.floor(6*Math.random())+1);return e.sort((e,t)=>t-e),e.slice(0,3).reduce((e,t)=>e+t,0)};d({...c,attributes:{strength:e(),dexterity:e(),constitution:e(),intelligence:e(),wisdom:e(),charisma:e()}})},children:[(0,s.jsx)(sd,{className:"h-4 w-4 mr-2"}),"Roll Stats"]})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(c.attributes).map(([e,t])=>(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:e,className:"capitalize",children:e}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(tm,{id:e,type:"number",min:"1",max:"20",value:t,onChange:t=>d({...c,attributes:{...c.attributes,[e]:Number.parseInt(t.target.value)||10}}),className:"flex-1"}),(0,s.jsxs)("div",{className:"w-16 flex items-center justify-center bg-muted rounded-md text-sm font-medium",children:[f(t)>=0?"+":"",f(t)]})]})]},e))}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Skills"}),(0,s.jsx)("div",{className:"grid gap-2 md:grid-cols-3",children:sf.map(e=>(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:e,checked:c.skills.includes(e),onChange:()=>x(e),className:"rounded border-border"}),(0,s.jsx)(tp,{htmlFor:e,className:"text-sm",children:e})]},e))})]})]}),(0,s.jsx)(ti,{value:"personality",className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"traits",children:"Traits"}),(0,s.jsx)(tf,{id:"traits",value:c.traits,onChange:e=>d({...c,traits:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),placeholder:"Describe your character's personality traits...",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"ideals",children:"Ideals"}),(0,s.jsx)(tf,{id:"ideals",value:c.ideals,onChange:e=>d({...c,ideals:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),placeholder:"What ideals drive your character?",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"bonds",children:"Bonds"}),(0,s.jsx)(tf,{id:"bonds",value:c.bonds,onChange:e=>d({...c,bonds:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),placeholder:"What bonds connect your character to the world?",rows:3})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"flaws",children:"Flaws"}),(0,s.jsx)(tf,{id:"flaws",value:c.flaws,onChange:e=>d({...c,flaws:e.target.value.split(",").map(e=>e.trim()).filter(e=>e)}),placeholder:"What flaws or weaknesses does your character have?",rows:3})]})]})}),(0,s.jsxs)(ti,{value:"equipment",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"equipment",children:"Equipment (one per line)"}),(0,s.jsx)(tf,{id:"equipment",value:(c.equipment||[]).join("\n"),onChange:e=>d({...c,equipment:e.target.value.split("\n").filter(e=>e.trim())}),placeholder:"Longsword Chain Mail Shield Backpack",rows:8})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"spells",children:"Spells (one per line)"}),(0,s.jsx)(tf,{id:"spells",value:(c.spells||[]).join("\n"),onChange:e=>d({...c,spells:e.target.value.split("\n").filter(e=>e.trim())}),placeholder:"Magic Missile Shield Cure Wounds",rows:6})]})]}),(0,s.jsx)(ti,{value:"backstory",className:"space-y-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"backstory",children:"Character Backstory"}),(0,s.jsx)(tf,{id:"backstory",value:c.backstory,onChange:e=>d({...c,backstory:e.target.value}),placeholder:"Tell your character's story...",rows:10})]})})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)(eu,{type:"submit",className:"flex-1",disabled:l,children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ss,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Updating...":"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(si,{className:"h-4 w-4 mr-2"}),e?"Update Character":"Create Character"]})}),(0,s.jsxs)(eu,{type:"button",variant:"outline",onClick:r,disabled:l,children:[(0,s.jsx)(sl,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})]})}let sg=i.forwardRef(({className:e,value:t,...r},a)=>(0,s.jsx)("div",{ref:a,className:er("relative h-2 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:(0,s.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));sg.displayName="Progress";let sv=nQ("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),sy=nQ("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),sb=nQ("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),sj=nQ("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),sw=nQ("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),sN=nQ("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),sC=nQ("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),sk=nQ("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);function sS({character:e,onEdit:t}){let r=e=>{let t=Math.floor((e-10)/2);return t>=0?`+${t}`:`${t}`},a=e.hitPoints.current/e.hitPoints.maximum*100;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)(ea,{children:(0,s.jsx)(en,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsx)("div",{className:"flex gap-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(es,{className:"text-2xl",children:e.name}),(0,s.jsxs)(ei,{className:"text-lg",children:["Level ",e.level," ",e.race," ",e.class]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(eh,{variant:"outline",children:e.background}),(0,s.jsx)(eh,{variant:"secondary",children:e.alignment}),e.currentLocation&&(0,s.jsxs)(eh,{variant:"outline",className:"flex items-center gap-1",children:[(0,s.jsx)(sv,{className:"h-3 w-3"}),e.currentLocation]})]})]})}),t&&(0,s.jsxs)(eu,{variant:"outline",onClick:t,children:[(0,s.jsx)(sy,{className:"h-4 w-4 mr-2"}),"Edit"]})]})})}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{className:"pb-3",children:(0,s.jsxs)(es,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(sb,{className:"h-4 w-4 text-red-500"}),"Hit Points"]})}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-2xl font-bold",children:e.hitPoints.current}),(0,s.jsxs)("span",{className:"text-muted-foreground",children:["/ ",e.hitPoints.maximum]})]}),(0,s.jsx)(sg,{value:a,className:"h-2"})]})})]}),(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{className:"pb-3",children:(0,s.jsxs)(es,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(sj,{className:"h-4 w-4 text-blue-500"}),"Armor Class"]})}),(0,s.jsx)(el,{children:(0,s.jsx)("div",{className:"text-2xl font-bold",children:e.armorClass})})]}),(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{className:"pb-3",children:(0,s.jsxs)(es,{className:"text-sm font-medium flex items-center gap-2",children:[(0,s.jsx)(sw,{className:"h-4 w-4 text-yellow-500"}),"Proficiency Bonus"]})}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"text-2xl font-bold",children:["+",e.proficiencyBonus]})})]})]}),(0,s.jsxs)(ta,{defaultValue:"stats",className:"space-y-4",children:[(0,s.jsxs)(tn,{className:"grid w-full grid-cols-4",children:[(0,s.jsxs)(ts,{value:"stats",className:"flex items-center gap-2",children:[(0,s.jsx)(sN,{className:"h-4 w-4"}),"Stats"]}),(0,s.jsxs)(ts,{value:"skills",className:"flex items-center gap-2",children:[(0,s.jsx)(sw,{className:"h-4 w-4"}),"Skills"]}),(0,s.jsxs)(ts,{value:"equipment",className:"flex items-center gap-2",children:[(0,s.jsx)(sC,{className:"h-4 w-4"}),"Equipment"]}),(0,s.jsxs)(ts,{value:"backstory",className:"flex items-center gap-2",children:[(0,s.jsx)(sk,{className:"h-4 w-4"}),"Backstory"]})]}),(0,s.jsx)(ti,{value:"stats",children:(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{children:"Ability Scores"})}),(0,s.jsx)(el,{children:(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-3",children:Object.entries(e.stats).map(([e,t])=>(0,s.jsxs)("div",{className:"text-center p-4 bg-muted rounded-lg",children:[(0,s.jsx)("div",{className:"text-sm font-medium text-muted-foreground capitalize mb-1",children:e}),(0,s.jsx)("div",{className:"text-2xl font-bold mb-1",children:t}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:r(t)})]},e))})})]})}),(0,s.jsx)(ti,{value:"skills",children:(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{children:"Proficient Skills"}),(0,s.jsx)(ei,{children:"Skills your character is trained in"})]}),(0,s.jsx)(el,{children:e.skills.length>0?(0,s.jsx)("div",{className:"grid gap-2 md:grid-cols-2",children:e.skills.map(e=>(0,s.jsx)(eh,{variant:"secondary",className:"justify-start",children:e},e))}):(0,s.jsx)("p",{className:"text-muted-foreground",children:"No proficient skills selected."})})]})}),(0,s.jsxs)(ti,{value:"equipment",className:"space-y-4",children:[(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{children:"Equipment"})}),(0,s.jsx)(el,{children:e.equipment.length>0?(0,s.jsx)("div",{className:"space-y-2",children:e.equipment.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[(0,s.jsx)(sC,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e})]},t))}):(0,s.jsx)("p",{className:"text-muted-foreground",children:"No equipment listed."})})]}),e.spells&&e.spells.length>0&&(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{children:"Spells"})}),(0,s.jsx)(el,{children:(0,s.jsx)("div",{className:"space-y-2",children:e.spells.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[(0,s.jsx)(sk,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e})]},t))})})]})]}),(0,s.jsx)(ti,{value:"backstory",children:(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{children:"Character Backstory"})}),(0,s.jsx)(el,{children:e.backstory?(0,s.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,s.jsx)("p",{className:"whitespace-pre-wrap",children:e.backstory})}):(0,s.jsx)("p",{className:"text-muted-foreground",children:"No backstory written yet."})})]})})]})]})}let sE=nQ("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),sP=[{value:"settlement",label:"Settlement",description:"Towns, villages, and urban settlements"},{value:"dungeon",label:"Dungeon",description:"Caves, ruins, and underground complexes"},{value:"wilderness",label:"Wilderness",description:"Forests, mountains, and natural areas"},{value:"landmark",label:"Landmark",description:"Notable natural or constructed features"},{value:"shop",label:"Shop",description:"Merchant establishments and markets"},{value:"tavern",label:"Tavern",description:"Inns, pubs, and social gathering places"},{value:"temple",label:"Temple",description:"Religious buildings and sacred sites"},{value:"castle",label:"Castle",description:"Fortresses, palaces, and strongholds"},{value:"other",label:"Other",description:"Unique or special locations"}];function sA({location:e,onSave:t,onCancel:r,availableLocations:a=[],campaignId:n,sessionId:l,isSaving:o}){let[c,d]=(0,i.useState)({name:e?.name||"",type:e?.type||"settlement",description:e?.description||"",inhabitants:e?.inhabitants||[],connections:e?.connections||[]}),[u,m]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),f=()=>{u.trim()&&(d({...c,inhabitants:[...c.inhabitants,u.trim()]}),m(""))},x=e=>{d({...c,inhabitants:c.inhabitants.filter((t,r)=>r!==e)})},g=e=>{d({...c,connections:c.connections.filter(t=>t!==e)})},v=e=>{let t=a.find(t=>t.id===e);return t?t.name:"Unknown Location"},y=a.filter(t=>t.id!==e?.id&&!c.connections.includes(t.id));return(0,s.jsxs)(ea,{className:"w-full max-w-2xl mx-auto",children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{children:e?"Edit Location":"Create New Location"}),(0,s.jsx)(ei,{children:e?"Update your location details":"Build a new location for your world"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),t({...c,campaignId:n,...l&&{sessionId:l},createdBy:"player"})},className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"name",children:"Location Name"}),(0,s.jsx)(tm,{id:"name",value:c.name,onChange:e=>d({...c,name:e.target.value}),placeholder:"Enter location name...",required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"type",children:"Location Type"}),(0,s.jsxs)(n4,{value:c.type,onValueChange:e=>d({...c,type:e}),children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Choose location type"})}),(0,s.jsx)(n6,{children:sP.map(e=>(0,s.jsx)(n8,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(tp,{htmlFor:"description",children:"Description"}),(0,s.jsx)(tf,{id:"description",value:c.description,onChange:e=>d({...c,description:e.target.value}),placeholder:"Describe this location...",rows:4,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(tp,{children:"Inhabitants"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(tm,{value:u,onChange:e=>m(e.target.value),placeholder:"Add inhabitant name...",onKeyPress:e=>"Enter"===e.key&&(e.preventDefault(),f())}),(0,s.jsx)(eu,{type:"button",onClick:f,size:"sm",children:(0,s.jsx)(sE,{className:"h-4 w-4"})})]}),c.inhabitants.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Current inhabitants:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:c.inhabitants.map((e,t)=>(0,s.jsxs)(eh,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,s.jsx)("button",{type:"button",onClick:()=>x(t),className:"ml-1 hover:text-destructive",children:(0,s.jsx)(sl,{className:"h-3 w-3"})})]},t))})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)(tp,{children:"Connected Locations"}),y.length>0&&(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(n4,{value:h,onValueChange:p,children:[(0,s.jsx)(n5,{className:"flex-1",children:(0,s.jsx)(n3,{placeholder:"Select location to connect..."})}),(0,s.jsx)(n6,{children:y.map(e=>(0,s.jsxs)(n8,{value:e.id,children:[e.name," (",e.type,")"]},e.id))})]}),(0,s.jsx)(eu,{type:"button",onClick:()=>{h&&!c.connections.includes(h)&&(d({...c,connections:[...c.connections,h]}),p(""))},size:"sm",disabled:!h,children:(0,s.jsx)(sE,{className:"h-4 w-4"})})]}),c.connections.length>0&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Connected to:"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:c.connections.map(e=>(0,s.jsxs)(eh,{variant:"outline",className:"flex items-center gap-1",children:[v(e),(0,s.jsx)("button",{type:"button",onClick:()=>g(e),className:"ml-1 hover:text-destructive",children:(0,s.jsx)(sl,{className:"h-3 w-3"})})]},e))})]})]}),(0,s.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,s.jsx)(eu,{type:"submit",className:"flex-1",disabled:o,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ss,{className:"h-4 w-4 mr-2 animate-spin"}),e?"Updating...":"Creating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(si,{className:"h-4 w-4 mr-2"}),e?"Update Location":"Create Location"]})}),(0,s.jsxs)(eu,{type:"button",variant:"outline",onClick:r,disabled:o,children:[(0,s.jsx)(sl,{className:"h-4 w-4 mr-2"}),"Cancel"]})]})]})})]})}let sL=nQ("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),sM=nQ("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),sT=nQ("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),sD=e=>{switch(e){case"city":return"\uD83C\uDFD8️";case"dungeon":return"\uD83C\uDFF0";case"wilderness":return"\uD83C\uDF32";case"building":return"\uD83C\uDFE2";default:return"\uD83D\uDCCD"}},sI=e=>{switch(e){case"city":return"bg-blue-500";case"dungeon":return"bg-red-500";case"wilderness":return"bg-green-500";case"building":return"bg-yellow-500";default:return"bg-gray-500"}};function sR({location:e,onBack:t,onEdit:r,allLocations:a=[]}){let n=e=>{let t=a.find(t=>t.id===e);return t?t.name:"Unknown Location"},i=e=>{let t=a.find(t=>t.id===e);return t?t.type:"unknown"};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(eu,{variant:"outline",size:"sm",onClick:t,children:[(0,s.jsx)(sL,{className:"h-4 w-4 mr-2"}),"Back to Locations"]}),(0,s.jsx)("div",{className:"flex-1",children:(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("div",{className:`p-2 rounded-lg ${sI(e.type)}`,children:(0,s.jsx)(sv,{className:"h-6 w-6 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:e.name}),(0,s.jsxs)(eh,{variant:"outline",className:"capitalize",children:[sD(e.type)," ",e.type]})]})]})}),(0,s.jsxs)(eu,{variant:"outline",onClick:r,children:[(0,s.jsx)(sy,{className:"h-4 w-4 mr-2"}),"Edit Location"]})]}),(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{children:"Location Overview"})}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Description"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:e.description})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Location Details"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Type:"}),(0,s.jsx)(eh,{variant:"outline",className:"capitalize",children:e.type})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,s.jsx)("span",{children:e.createdAt.toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Last Updated:"}),(0,s.jsx)("span",{children:e.updatedAt.toLocaleDateString()})]})]})]})})]})})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsxs)(es,{className:"flex items-center gap-2",children:[(0,s.jsx)(sM,{className:"h-5 w-5"}),"Inhabitants"]}),(0,s.jsx)(ei,{children:"Notable people and creatures in this location"})]}),(0,s.jsx)(el,{children:e.inhabitants&&e.inhabitants.length>0?(0,s.jsx)("div",{className:"space-y-2",children:e.inhabitants.map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[(0,s.jsx)(sM,{className:"h-4 w-4 text-muted-foreground"}),(0,s.jsx)("span",{children:e})]},t))}):(0,s.jsx)("p",{className:"text-muted-foreground",children:"No inhabitants listed for this location."})})]}),(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsxs)(es,{className:"flex items-center gap-2",children:[(0,s.jsx)(sT,{className:"h-5 w-5"}),"Connected Locations"]}),(0,s.jsx)(ei,{children:"Places accessible from this location"})]}),(0,s.jsx)(el,{children:e.connections&&e.connections.length>0?(0,s.jsx)("div",{className:"space-y-2",children:e.connections.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-muted rounded",children:[(0,s.jsx)("div",{className:`p-1 rounded ${sI(i(e))}`,children:(0,s.jsx)(sv,{className:"h-3 w-3 text-white"})}),(0,s.jsx)("span",{children:n(e)}),(0,s.jsx)(eh,{variant:"outline",className:"ml-auto capitalize text-xs",children:i(e)})]},e))}):(0,s.jsx)("p",{className:"text-muted-foreground",children:"This location has no connections to other places."})})]})]}),(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{children:"Adventure Hooks & Notes"}),(0,s.jsx)(ei,{children:"Ideas for adventures and important details"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(sv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Adventure hooks and notes coming soon..."})]})})]})]})}let sz=nQ("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),sF=nQ("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),sO=nQ("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);function s$({campaign:e,characters:t,locations:r,onBack:a,onEdit:n,onPlaySession:l,onSaveCharacter:o,onSaveLocation:c,onDeleteCampaign:d}){let[u,m]=(0,i.useState)(null),[h,p]=(0,i.useState)(null),[f,x]=(0,i.useState)("list"),[g,v]=(0,i.useState)("list"),[y,b]=(0,i.useState)(e.settings||{difficulty:"medium",maxLevel:20,startingLevel:1,experienceRate:"normal",magicLevel:"medium",technologyLevel:"medieval",aiBehavior:{creativity:"medium",detailLevel:"moderate",pacing:"normal",combatStyle:"balanced"},playerSettings:{maxPlayers:6,allowNewPlayers:!0,playerPermissions:{canCreateCharacters:!0,canModifyWorld:!1,canManageSessions:!1}}}),[j,w]=(0,i.useState)(!1),[N,C]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),[E,P]=(0,i.useState)(!1),[A,L]=(0,i.useState)(!1),M=t.filter(t=>t.campaignId===e.id),T=r.filter(t=>t.campaignId===e.id),D=()=>{m(null),x("create")},I=e=>{m(e),x("edit")},R=e=>{m(e),x("view")},z=async t=>{try{P(!0),await o({...t,campaignId:e.id}),x("list"),m(null)}catch(e){console.error("Error saving character:",e)}finally{P(!1)}},F=()=>{p(null),v("create")},O=e=>{p(e),v("edit")},$=e=>{p(e),v("view")},_=async t=>{try{L(!0),await c({...t,campaignId:e.id}),v("list"),p(null)}catch(e){console.error("Error saving location:",e)}finally{L(!1)}},B=async()=>{try{w(!0),C(null),S(null);let t=process.env.NEXT_PUBLIC_API_URL;if(!t)throw Error("NEXT_PUBLIC_API_URL environment variable is required");let r=await fetch(`${t}/api/campaign-settings/${e.id}/settings`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({settings:y})});if(!r.ok)throw Error(`Failed to save settings: ${r.statusText}`);let a=await r.json();S("Settings saved successfully!"),b(a.settings||{}),setTimeout(()=>S(null),3e3)}catch(e){console.error("Error saving settings:",e),C(e instanceof Error?e.message:"Failed to save settings"),setTimeout(()=>C(null),5e3)}finally{w(!1)}},U=(e,t,r)=>{b(a=>{if(""===e)return{...a,[t]:r};{let n=a[e];return n&&"object"==typeof n?{...a,[e]:{...n,[t]:r}}:{...a,[e]:{[t]:r}}}})};return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)(eu,{variant:"outline",size:"sm",onClick:a,children:[(0,s.jsx)(sL,{className:"h-4 w-4 mr-2"}),"Back to Campaigns"]}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:e.name}),(0,s.jsx)(eh,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Active":e.status})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:e.theme})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(eu,{variant:"outline",onClick:n,children:[(0,s.jsx)(sy,{className:"h-4 w-4 mr-2"}),"Edit Campaign"]}),d&&(0,s.jsxs)(eu,{variant:"destructive",onClick:()=>d(e),children:[(0,s.jsx)(sz,{className:"h-4 w-4 mr-2"}),"Delete Campaign"]})]})]}),(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{children:"Campaign Overview"})}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Description"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:e.description})]}),(0,s.jsx)("div",{className:"space-y-4",children:(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold mb-2",children:"Campaign Details"}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Setting:"}),(0,s.jsx)("span",{children:e.theme})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Created:"}),(0,s.jsx)("span",{children:new Date(e.createdAt).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Last Updated:"}),(0,s.jsx)("span",{children:new Date(e.updatedAt).toLocaleDateString()})]})]})]})})]})})]}),(0,s.jsxs)(ta,{defaultValue:"sessions",className:"space-y-4",children:[(0,s.jsxs)(tn,{className:"grid w-full grid-cols-4",children:[(0,s.jsxs)(ts,{value:"sessions",className:"flex items-center gap-2",children:[(0,s.jsx)(sF,{className:"h-4 w-4"}),"Sessions"]}),(0,s.jsxs)(ts,{value:"characters",className:"flex items-center gap-2",children:[(0,s.jsx)(sM,{className:"h-4 w-4"}),"Characters"]}),(0,s.jsxs)(ts,{value:"locations",className:"flex items-center gap-2",children:[(0,s.jsx)(sv,{className:"h-4 w-4"}),"Locations"]}),(0,s.jsxs)(ts,{value:"settings",className:"flex items-center gap-2",children:[(0,s.jsx)(sO,{className:"h-4 w-4"}),"Settings"]})]}),(0,s.jsx)(ti,{value:"sessions",children:(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{children:"Session Management"}),(0,s.jsx)(ei,{children:"Sessions are automatically created and managed during gameplay"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"Sessions are automatically created when you start playing. No manual session management required!"}),(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,s.jsx)("p",{children:"• Sessions start automatically when you begin a story"}),(0,s.jsx)("p",{children:"• Session data is automatically saved and managed"}),(0,s.jsx)("p",{children:"• You can view session history and continue where you left off"})]})]})})]})}),(0,s.jsx)(ti,{value:"characters",children:"create"===f||"edit"===f?(0,s.jsx)(sx,{character:u||void 0,onSave:z,onCancel:()=>x("list"),campaignId:e.id,sessionId:e.sessions?.[0]?.id||"",isSaving:E}):"view"===f&&u?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(eu,{variant:"outline",onClick:()=>x("list"),children:[(0,s.jsx)(sL,{className:"h-4 w-4 mr-2"}),"Back to Characters"]}),(0,s.jsx)(sS,{character:u,onEdit:()=>I(u)})]}):(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(es,{children:"Campaign Characters"}),(0,s.jsx)(ei,{children:"Manage player characters and NPCs for this campaign"})]}),(0,s.jsxs)(eu,{onClick:D,children:[(0,s.jsx)(sE,{className:"h-4 w-4 mr-2"}),"Add Character"]})]})}),(0,s.jsx)(el,{children:0===M.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(sM,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"No characters in this campaign yet."}),(0,s.jsx)(eu,{onClick:D,children:"Create First Character"})]}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:M.map(e=>(0,s.jsxs)(ea,{className:"bg-card border-2 border-orange-500",children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{className:"text-center text-lg",children:e.name}),(0,s.jsxs)(ei,{className:"text-center",children:["Level ",e.level," ",e.race," ",e.class]})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"HP:"}),(0,s.jsxs)("span",{children:[e.hitPoints.current,"/",e.hitPoints.maximum]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,s.jsx)("span",{children:"AC:"}),(0,s.jsx)("span",{children:e.armorClass})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsxs)(eu,{size:"sm",variant:"outline",onClick:()=>I(e),children:[(0,s.jsx)(sy,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,s.jsx)(eu,{size:"sm",onClick:()=>R(e),children:"View"})]})]})})]},e.id))})})]})}),(0,s.jsx)(ti,{value:"locations",children:"create"===g||"edit"===g?(0,s.jsx)(sA,{location:h||void 0,onSave:_,onCancel:()=>v("list"),availableLocations:T,campaignId:e.id,sessionId:e.sessions?.[0]?.id,isSaving:A}):"view"===g&&h?(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(eu,{variant:"outline",onClick:()=>v("list"),children:[(0,s.jsx)(sL,{className:"h-4 w-4 mr-2"}),"Back to Locations"]}),(0,s.jsx)(sR,{location:h,onBack:()=>v("list"),onEdit:()=>O(h),allLocations:T})]}):(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(es,{children:"Campaign Locations"}),(0,s.jsx)(ei,{children:"Manage locations and world-building for this campaign"})]}),(0,s.jsxs)(eu,{onClick:F,children:[(0,s.jsx)(sE,{className:"h-4 w-4 mr-2"}),"Add Location"]})]})}),(0,s.jsx)(el,{children:0===T.length?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)(sv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"No locations in this campaign yet."}),(0,s.jsx)(eu,{onClick:F,children:"Create First Location"})]}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:T.map(e=>(0,s.jsxs)(ea,{className:"bg-card border-2 border-orange-500",children:[(0,s.jsxs)(en,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(es,{className:"text-lg",children:e.name}),(0,s.jsx)(eh,{variant:"outline",className:"capitalize",children:e.type})]}),(0,s.jsx)(ei,{children:e.description})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"space-y-2",children:[e.inhabitants&&e.inhabitants.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{className:"font-semibold text-sm",children:"Inhabitants:"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.inhabitants.slice(0,2).map((e,t)=>(0,s.jsx)(eh,{variant:"secondary",className:"text-xs",children:e},t)),e.inhabitants.length>2&&(0,s.jsxs)(eh,{variant:"secondary",className:"text-xs",children:["+",e.inhabitants.length-2," more"]})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsxs)(eu,{size:"sm",variant:"outline",onClick:()=>O(e),children:[(0,s.jsx)(sy,{className:"h-4 w-4 mr-2"}),"Edit"]}),(0,s.jsx)(eu,{size:"sm",onClick:()=>$(e),children:"View"})]})]})})]},e.id))})})]})}),(0,s.jsx)(ti,{value:"settings",children:(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{children:"Campaign Settings"}),(0,s.jsx)(ei,{children:"Configure campaign rules and preferences"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Basic Settings"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Difficulty"}),(0,s.jsxs)("select",{className:"w-full p-2 text-sm border rounded-md bg-background mt-1",value:y.difficulty||"medium",onChange:e=>U("","difficulty",e.target.value),children:[(0,s.jsx)("option",{value:"easy",children:"Easy"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"hard",children:"Hard"}),(0,s.jsx)("option",{value:"deadly",children:"Deadly"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Max Level"}),(0,s.jsx)("input",{type:"number",min:"1",max:"20",value:y.maxLevel||20,onChange:e=>U("","maxLevel",parseInt(e.target.value)),className:"w-full p-2 text-sm border rounded-md bg-background mt-1"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Experience Rate"}),(0,s.jsxs)("select",{className:"w-full p-2 text-sm border rounded-md bg-background mt-1",value:y.experienceRate||"normal",onChange:e=>U("","experienceRate",e.target.value),children:[(0,s.jsx)("option",{value:"slow",children:"Slow"}),(0,s.jsx)("option",{value:"normal",children:"Normal"}),(0,s.jsx)("option",{value:"fast",children:"Fast"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Magic Level"}),(0,s.jsxs)("select",{className:"w-full p-2 text-sm border rounded-md bg-background mt-1",value:y.magicLevel||"medium",onChange:e=>U("","magicLevel",e.target.value),children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"AI Behavior"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Creativity"}),(0,s.jsxs)("select",{className:"w-full p-2 text-sm border rounded-md bg-background mt-1",value:y.aiBehavior?.creativity||"medium",onChange:e=>U("aiBehavior","creativity",e.target.value),children:[(0,s.jsx)("option",{value:"low",children:"Low"}),(0,s.jsx)("option",{value:"medium",children:"Medium"}),(0,s.jsx)("option",{value:"high",children:"High"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Detail Level"}),(0,s.jsxs)("select",{className:"w-full p-2 text-sm border rounded-md bg-background mt-1",value:y.aiBehavior?.detailLevel||"moderate",onChange:e=>U("aiBehavior","detailLevel",e.target.value),children:[(0,s.jsx)("option",{value:"minimal",children:"Minimal"}),(0,s.jsx)("option",{value:"moderate",children:"Moderate"}),(0,s.jsx)("option",{value:"detailed",children:"Detailed"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Pacing"}),(0,s.jsxs)("select",{className:"w-full p-2 text-sm border rounded-md bg-background mt-1",value:y.aiBehavior?.pacing||"normal",onChange:e=>U("aiBehavior","pacing",e.target.value),children:[(0,s.jsx)("option",{value:"slow",children:"Slow"}),(0,s.jsx)("option",{value:"normal",children:"Normal"}),(0,s.jsx)("option",{value:"fast",children:"Fast"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Combat Style"}),(0,s.jsxs)("select",{className:"w-full p-2 text-sm border rounded-md bg-background mt-1",value:y.aiBehavior?.combatStyle||"balanced",onChange:e=>U("aiBehavior","combatStyle",e.target.value),children:[(0,s.jsx)("option",{value:"tactical",children:"Tactical"}),(0,s.jsx)("option",{value:"balanced",children:"Balanced"}),(0,s.jsx)("option",{value:"narrative",children:"Narrative"})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Player Management"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Max Players"}),(0,s.jsx)("input",{type:"number",min:"1",max:"10",value:y.playerSettings?.maxPlayers||6,onChange:e=>U("playerSettings","maxPlayers",parseInt(e.target.value)),className:"w-full p-2 text-sm border rounded-md bg-background mt-1"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 pt-6",children:[(0,s.jsx)("input",{type:"checkbox",id:"allowNewPlayers",checked:y.playerSettings?.allowNewPlayers??!0,onChange:e=>U("playerSettings","allowNewPlayers",e.target.checked),className:"rounded"}),(0,s.jsx)("label",{htmlFor:"allowNewPlayers",className:"text-sm",children:"Allow New Players"})]})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"canCreateCharacters",checked:y.playerSettings?.playerPermissions?.canCreateCharacters??!0,onChange:e=>U("playerSettings","playerPermissions",{...y.playerSettings?.playerPermissions,canCreateCharacters:e.target.checked}),className:"rounded"}),(0,s.jsx)("label",{htmlFor:"canCreateCharacters",className:"text-sm",children:"Players can create characters"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"canModifyWorld",checked:y.playerSettings?.playerPermissions?.canModifyWorld??!1,onChange:e=>U("playerSettings","playerPermissions",{...y.playerSettings?.playerPermissions,canModifyWorld:e.target.checked}),className:"rounded"}),(0,s.jsx)("label",{htmlFor:"canModifyWorld",className:"text-sm",children:"Players can modify world"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"checkbox",id:"canManageSessions",checked:y.playerSettings?.playerPermissions?.canManageSessions??!1,onChange:e=>U("playerSettings","playerPermissions",{...y.playerSettings?.playerPermissions,canManageSessions:e.target.checked}),className:"rounded"}),(0,s.jsx)("label",{htmlFor:"canManageSessions",className:"text-sm",children:"Players can manage sessions"})]})]})]}),N&&(0,s.jsx)("div",{className:"p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-destructive text-sm",children:N})}),k&&(0,s.jsx)("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-green-700 text-sm",children:k})}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)(eu,{className:"w-full",onClick:B,disabled:j,children:j?"Saving...":"Save Settings"})})]})})]})})]})]})}let s_=nQ("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),sB=nQ("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),sU=nQ("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);function sq({campaignId:e,characterId:t,campaigns:r,characters:a,onResumeSession:n,onStartNewSession:l,onStartNewAdventure:o}){let[c,d]=(0,i.useState)([]),[u,m]=(0,i.useState)(!0),[h,p]=(0,i.useState)(null),f=(0,i.useCallback)(async()=>{try{m(!0),p(null);let t=await fetch(`/api/sessions/active?campaignId=${e}`);if(!t.ok)throw Error("Failed to fetch active sessions");let r=await t.json();d(r.activeSessions||[])}catch(e){p(e instanceof Error?e.message:"Failed to fetch sessions")}finally{m(!1)}},[e]),x=e=>{let t=new Date,r=new Date(e),a=Math.floor((t.getTime()-r.getTime())/6e4);return a<1?"Just now":a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:`${Math.floor(a/1440)}d ago`},g=(e,t=200)=>e.length<=t?e:e.substring(0,t)+"...";return u?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading active sessions..."})]}):h?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-destructive mb-4",children:h}),(0,s.jsx)(eu,{onClick:f,variant:"outline",children:"Try Again"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(s_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:c.length>0?"Continue Your Adventure":"Begin Your Adventure"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:c.length>0?`You have ${c.length} active session${c.length>1?"s":""} to continue, or start a new adventure.`:"Choose your campaign and character to start playing with your AI Dungeon Master."})]}),c.length>0&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Active Sessions"}),c.map(e=>(0,s.jsxs)(ea,{className:"hover:shadow-md transition-shadow",children:[(0,s.jsx)(en,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(es,{className:"text-lg",children:e.name}),(0,s.jsx)(ei,{children:e.description})]}),(0,s.jsx)(eh,{variant:"secondary",children:e.status})]})}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(sB,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:["Last activity: ",x(e.lastMessageTime)]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(s_,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[e.messageCount," message",1!==e.messageCount?"s":""]})]}),e.lastMessage&&(0,s.jsxs)("div",{className:"bg-muted p-3 rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:["player"===e.lastMessageType?(0,s.jsx)(sN,{className:"h-4 w-4 text-blue-600"}):(0,s.jsx)(sU,{className:"h-4 w-4 text-green-600"}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"player"===e.lastMessageType?"You":"Dungeon Master"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:x(e.lastMessageTime)})]}),(0,s.jsx)("p",{className:"text-sm",children:g(e.lastMessage)})]}),(0,s.jsx)("div",{className:"flex gap-2 pt-2",children:(0,s.jsxs)(eu,{onClick:()=>{let s=r.find(t=>t.id===e.campaignId),i=a.find(e=>e.id===t);n(e.sessionId,s,i)},className:"flex-1",children:[(0,s.jsx)(sF,{className:"h-4 w-4 mr-2"}),"Resume Session"]})})]})})]},e.sessionId))]}),(0,s.jsx)("div",{className:"text-center pt-4",children:(0,s.jsxs)(eu,{onClick:o,size:"lg",className:"bg-primary hover:bg-primary/90",children:[(0,s.jsx)(sF,{className:"h-5 w-5 mr-2"}),c.length>0?"Start New Adventure":"Start Adventure"]})})]})}function sH({onStartGame:e,onBack:t}){let[r,a]=(0,i.useState)([]),[n,l]=(0,i.useState)([]),[o,c]=(0,i.useState)(""),[d,u]=(0,i.useState)(""),[m,h]=(0,i.useState)(!0),[p,f]=(0,i.useState)(null),x=o&&d;return m?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading campaigns and characters..."})]}):p?(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-destructive mb-4",children:p}),(0,s.jsx)(eu,{onClick:()=>window.location.reload(),variant:"outline",children:"Try Again"})]}):0===r.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(s_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"No Active Campaigns"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"You need to create a campaign first before you can start playing."}),(0,s.jsx)(eu,{onClick:t,variant:"outline",children:"Back to Overview"})]}):0===n.length?(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(sN,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"No Characters Available"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"You need to create a character in one of your campaigns before you can start playing."}),(0,s.jsx)(eu,{onClick:t,variant:"outline",children:"Back to Overview"})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(s_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Choose Your Adventure"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Select your campaign and character to begin your adventure with the AI Dungeon Master."})]}),(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsxs)(es,{className:"flex items-center gap-2",children:[(0,s.jsx)(sC,{className:"h-5 w-5"}),"Campaign Selection"]}),(0,s.jsx)(ei,{children:"Choose the campaign world you want to play in"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)(n4,{value:o,onValueChange:e=>{c(e),u("")},children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Select a campaign"})}),(0,s.jsx)(n6,{children:r.map(e=>(0,s.jsx)(n8,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsx)(eh,{variant:"outline",className:"text-xs",children:e.theme||"Custom"})]})},e.id))})]})})]}),o&&(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsxs)(es,{className:"flex items-center gap-2",children:[(0,s.jsx)(sN,{className:"h-5 w-5"}),"Character Selection"]}),(0,s.jsx)(ei,{children:"Choose your character for this adventure"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)(n4,{value:d,onValueChange:u,children:[(0,s.jsx)(n5,{children:(0,s.jsx)(n3,{placeholder:"Select a character"})}),(0,s.jsx)(n6,{children:n.filter(e=>e.campaignId===o).map(e=>(0,s.jsx)(n8,{value:e.id,children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{children:e.name}),(0,s.jsxs)(eh,{variant:"secondary",className:"text-xs",children:["Level ",e.level," ",e.race," ",e.class]})]})},e.id))})]})})]}),(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsx)(eu,{onClick:t,variant:"outline",children:"Back"}),(0,s.jsxs)(eu,{onClick:()=>{if(!o||!d)return;let t=r.find(e=>e.id===o),a=n.find(e=>e.id===d);t&&a&&e(t,a)},disabled:!x,className:"bg-primary hover:bg-primary/90",children:[(0,s.jsx)(sF,{className:"h-4 w-4 mr-2"}),"Start Adventure"]})]}),o&&d&&(0,s.jsx)(ea,{className:"bg-muted/50",children:(0,s.jsx)(el,{className:"pt-6",children:(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ready to begin your adventure! The AI Dungeon Master will automatically create a new session and guide you through your story."})})})})]})}let sW=i.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsx)("div",{ref:a,className:er("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...r,children:t}));sW.displayName="Avatar",i.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsx)("img",{ref:a,className:er("aspect-square h-full w-full",e),...r})).displayName="AvatarImage";let sV=i.forwardRef(({className:e,children:t,...r},a)=>(0,s.jsx)("div",{ref:a,className:er("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...r,children:t}));sV.displayName="AvatarFallback";let sK=nQ("Dices",[["rect",{width:"12",height:"12",x:"2",y:"10",rx:"2",ry:"2",key:"6agr2n"}],["path",{d:"m17.92 14 3.5-3.5a2.24 2.24 0 0 0 0-3l-5-4.92a2.24 2.24 0 0 0-3 0L10 6",key:"1o487t"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"M10 14h.01",key:"ssrbsk"}],["path",{d:"M15 6h.01",key:"cblpky"}],["path",{d:"M18 9h.01",key:"2061c0"}]]),sG=nQ("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]),sY=nQ("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);function sX({campaign:e,character:t,currentLocation:r,onLocationChange:a,onBack:n,existingSessionId:l}){let[o,c]=(0,i.useState)([]),[d,u]=(0,i.useState)(""),[m,h]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!0),[x,g]=(0,i.useState)(!1),v=(0,i.useRef)(null),y=(0,i.useRef)(null),{executeCommand:b,isCommand:j,getSuggestions:w}=function(e,t){let[r,a]=(0,i.useState)(!1),n=(0,i.useCallback)(async(e,t)=>{try{let r=(await tu.getCharactersByCampaign(t)).find(t=>t.name.toLowerCase()===e.toLowerCase());if(r)return r.id;return null}catch(e){return console.error("Error resolving character ID:",e),null}},[tu]),s=(0,i.useCallback)(e=>{let t=e.trim();if(!t.startsWith("/"))return null;let r=t.split(" ");return{command:r[0].toLowerCase(),args:r.slice(1)}},[]),l=(0,i.useCallback)(async r=>{if(r.length<2)return{success:!1,content:"Usage: /character [field] [value] or /character [action] [target] [value]",type:"error"};let s=await n(e.name,t.id);if(!s)return{success:!1,content:"Error: Could not resolve character. Please refresh the page and try again.",type:"error"};let i=r[0].toLowerCase(),l=r.slice(1).join(" ");try{a(!0);let t={};switch(i){case"name":t.name=l;break;case"level":let n=parseInt(l);if(isNaN(n)||n<1||n>20)return{success:!1,content:"Level must be a number between 1 and 20",type:"error"};t.level=n;break;case"race":t.race=l;break;case"class":t.class=l;break;case"hp":if("restore"===l||"max"===l)t.hitPoints={current:e.hitPoints.maximum,maximum:e.hitPoints.maximum};else if(l.startsWith("+")||l.startsWith("-")){let r=parseInt(l);if(!isNaN(r)){let a=Math.max(0,Math.min(e.hitPoints.maximum,e.hitPoints.current+r));t.hitPoints={...e.hitPoints,current:a}}}else{let r=parseInt(l);!isNaN(r)&&r>0&&(t.hitPoints={current:r,maximum:Math.max(e.hitPoints.maximum,r)})}break;case"ac":let o=parseInt(l);if(isNaN(o)||o<0)return{success:!1,content:"Armor Class must be a positive number",type:"error"};t.armorClass=o;break;case"speed":let c=parseInt(l);if(isNaN(c)||c<0)return{success:!1,content:"Speed must be a positive number",type:"error"};t.speed=c;break;case"skill":if(r.length<3)return{success:!1,content:"Usage: /character skill [skillname] [value]",type:"error"};let d=r[1],u=r[2];"remove"===u?t.skills=e.skills.filter(e=>e!==d):e.skills.includes(d)||(t.skills=[...e.skills,d]);break;case"goal":case"fear":case"trait":case"background":t[i]=l;break;default:return{success:!1,content:`Unknown character field: ${i}. Use /help character for available fields.`,type:"error"}}if(Object.keys(t).length>0)try{let e=process.env.BACKEND_URL||process.env.NEXT_PUBLIC_API_URL;if(!e)throw Error("BACKEND_URL or NEXT_PUBLIC_API_URL environment variable is required");let r=await fetch(`${e}/api/characters/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error(`HTTP error! status: ${r.status}`);let a=await r.json();return{success:!0,content:`Character updated successfully: ${Object.keys(t).join(", ")}`,type:"info",metadata:{characterInfo:a}}}catch(e){return console.error("API error during character update:",e),{success:!1,content:`Failed to update character: ${e instanceof Error?e.message:"Unknown API error"}`,type:"error"}}}catch(e){return console.error("Error updating character:",e),{success:!1,content:`Failed to update character: ${e instanceof Error?e.message:"Unknown error"}`,type:"error"}}finally{a(!1)}return{success:!1,content:"No valid updates to apply",type:"error"}},[e,n,t.id]),o=(0,i.useCallback)(async e=>{if(e.length<2)return{success:!1,content:"Usage: /location [field] [value] or /location [action] [target] [value]",type:"error"};let t=e[0].toLowerCase(),r=e.slice(1).join(" ");try{a(!0);let n={};switch(t){case"name":n.name=r;break;case"type":let s=["settlement","dungeon","wilderness","landmark","shop","tavern","temple","castle","other"];if(!s.includes(r))return{success:!1,content:`Invalid location type. Must be one of: ${s.join(", ")}`,type:"error"};n.type=r;break;case"description":n.description=r;break;case"importance":let i=["minor","moderate","major","critical"];if(!i.includes(r))return{success:!1,content:`Invalid importance level. Must be one of: ${i.join(", ")}`,type:"error"};n.importance=r;break;case"climate":n.climate=r;break;case"terrain":n.terrain=r;break;case"lighting":n.lighting=r;break;case"weather":n.weather=r;break;case"explore":n.isExplored=!0;break;case"mark-safe":n.isSafe=!0;break;case"add-tag":if(e.length<2)return{success:!1,content:"Usage: /location add-tag [tag]",type:"error"};n.tags=[e[1]];break;case"add-poi":if(e.length<3)return{success:!1,content:"Usage: /location add-poi [name] [description]",type:"error"};let l=e[1],o=e.slice(2).join(" ");n.pointsOfInterest=[{name:l,description:o,type:"landmark",isExplored:!1}];break;default:return{success:!1,content:`Unknown location field: ${t}. Use /help location for available fields.`,type:"error"}}if(Object.keys(n).length>0)return{success:!0,content:`Location update prepared: ${Object.keys(n).join(", ")}. Note: Location context needed for full update.`,type:"info"};return{success:!1,content:"No valid updates to apply",type:"error"}}catch(e){return console.error("Error updating location:",e),{success:!1,content:`Failed to update location: ${e instanceof Error?e.message:"Unknown error"}`,type:"error"}}finally{a(!1)}},[]),c=(0,i.useCallback)(async t=>{let r=s(t);if(!r)return null;let{command:a,args:n}=r;if("/character"===a)return await l(n);if("/location"===a)return await o(n);if("/help"===a){if(0===n.length)return{success:!0,content:"Available commands: /help, /roll, /status, /inventory, /character, /location. Use /help [command] for specific help.",type:"info"};let e=n[0];if("character"===e)return{success:!0,content:"Character commands: /character name [value], /character level [value], /character hp [value], /character ac [value], /character skill [skill] [value]",type:"info"};if("location"===e)return{success:!0,content:"Location commands: /location name [value], /location type [value], /location description [value], /location explore, /location add-tag [tag]",type:"info"}}switch(a){case"/roll":return{success:!0,content:"Rolling dice... (dice rolling functionality simplified)",type:"info"};case"/status":return{success:!0,content:`Character: ${e.name}, Level: ${e.level}, HP: ${e.hitPoints?.current||"N/A"}/${e.hitPoints?.maximum||"N/A"}, AC: ${e.armorClass||"N/A"}`,type:"info"};case"/inventory":let i=Array.isArray(e.equipment)?e.equipment.join(", "):"None";return{success:!0,content:`Equipment: ${i}`,type:"info"};default:return{success:!1,content:`Unknown command: ${a}. Use /help for available commands.`,type:"error"}}},[e,l,o,s]),d=(0,i.useCallback)(e=>e.trim().startsWith("/"),[]),u=(0,i.useCallback)(e=>e.startsWith("/")?["/help","/roll","/status","/inventory","/character","/location"].filter(t=>t.toLowerCase().startsWith(e.toLowerCase())):[],[]),m=(0,i.useCallback)(()=>["/help","/roll","/status","/inventory","/character","/location"],[]),h=(0,i.useCallback)(e=>{switch(e.toLowerCase()){case"character":return["/character name","/character level","/character hp","/character ac","/character skill"];case"location":return["/location name","/location type","/location description","/location explore"];case"basic":return["/help","/roll","/status","/inventory"];default:return["/help","/roll","/status","/inventory","/character","/location"]}},[]);return{executeCommand:c,isCommand:d,getSuggestions:u,getAllCommands:m,getCommandsByCategory:h,getHelp:(0,i.useCallback)(()=>"Available commands: /help, /roll, /status, /inventory, /character, /location. Use /help [command] for specific help.",[]),getCommandHelp:(0,i.useCallback)(e=>({"/help":"Shows this help message. Use /help [command] for specific help.","/roll":"Rolls dice (simplified)","/status":"Shows character status and stats","/inventory":"Shows character equipment","/character":"Update character information. Use /help character for field options.","/location":"Update location information. Use /help location for field options."})[e]||"Command not found",[]),isProcessing:r}}(t,e),N=w(d),C=(0,i.useCallback)(async r=>{try{await tu.createAutomaticSession(e.id,t.id,r);let a=await tu.initializeCampaign(e.id,r,[t.id]);await new Promise(e=>setTimeout(e,200));let n={id:"1",sessionId:r,sender:"dm",content:a.content,timestamp:new Date,type:"message"};c([n]),f(!1)}catch(a){console.error("Failed to initialize campaign:",a);try{console.log("Retrying campaign initialization..."),await new Promise(e=>setTimeout(e,1e3));let a=await tu.initializeCampaign(e.id,r,[t.id]),n={id:"1",sessionId:r,sender:"dm",content:a.content,timestamp:new Date,type:"message"};c([n]),f(!1)}catch(a){console.error("Retry failed, using minimal fallback:",a),c([{id:"1",sessionId:r,sender:"dm",content:`Welcome to ${e.name}, ${t.name}! The campaign is initializing...`,timestamp:new Date,type:"message"}]),f(!1),console.error("Campaign initialization failed after retry. Please refresh the page or contact support.")}}},[e.id,t.id,e.name,t.name]);(0,i.useCallback)(async e=>{try{let t=await fetch(`/api/sessions/${e}/messages`);if(!t.ok)throw Error("Failed to load session messages");let r=(await t.json()).messages||[];if(r.length>0)c(r);else{await C(e);return}f(!1)}catch(t){console.error("Failed to load existing session:",t);try{await C(e)}catch(e){console.error("Failed to start new session after loading failure:",e),f(!1)}}},[C]);let k=e=>{let t=o.length>0?o[0].sessionId:"current",r={...e,id:crypto.randomUUID(),sessionId:t,timestamp:new Date};return c(e=>[...e,r]),r},S=async()=>{if(!d.trim()||m)return;let a=d.trim();if(u(""),g(!1),j(a))try{let e=await b(a);e&&(k({sender:"player",content:a,type:"action",metadata:{characterId:t.id}}),k({sender:"dm",content:e.content,type:"roll"===e.type?"roll":"message",metadata:{characterId:"system",diceRoll:e.metadata?.diceRoll}}));return}catch(e){console.error("Error executing command:",e),k({sender:"dm",content:`Error executing command: ${e instanceof Error?e.message:"Unknown error"}`,type:"message",metadata:{characterId:"system"}});return}k({sender:"player",content:a,type:"action",metadata:{characterId:t.id}});try{let e=o.length>0?o[0].sessionId:null;e&&await tu.updateSessionActivity(e)}catch(e){console.warn("Failed to update session activity:",e)}h(!0);try{let n=process.env.NEXT_PUBLIC_API_URL;if(!n)throw Error("API URL not configured");let s=o.length>0?o[0].sessionId:null,i=await fetch(`${n}/api/gameplay/story-response`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({playerAction:a,campaignId:e.id,sessionId:s,characterContext:`${t.name} - Level ${t.level} ${t.race} ${t.class}`,worldState:r?`You are currently in ${r.name}. ${r.description}`:"You are in an unknown location, beginning your adventure."})});if(!i.ok)throw Error(`HTTP error! status: ${i.status}`);let l=await i.json();if(l.success&&l.aiResponse)k({sender:"dm",content:l.aiResponse,type:"message"}),l.discoveryMessages&&Array.isArray(l.discoveryMessages)&&l.discoveryMessages.length>0&&setTimeout(()=>{l.discoveryMessages.forEach((e,t)=>{k({sender:"system",content:e.content,type:"system-discovery",metadata:{discovery:{discoveryType:e.metadata.discoveryType,entityId:e.metadata.entityId,confidence:e.metadata.confidence,extractionMethod:e.metadata.extractionMethod,entityDetails:e.metadata.entityDetails,isNew:e.metadata.isNew}}})})},500);else throw Error("Invalid response format")}catch(e){console.error("AI request failed:",e),k({sender:"dm",content:"I apologize, but I encountered an error while processing your request. Please try again.",type:"message"})}finally{h(!1)}},E=e=>{e&&u(`/${e} `),g(!1),y.current?.focus()},P=e=>e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{className:"flex flex-col h-[600px] md:h-[600px] max-w-4xl mx-auto",children:[(0,s.jsx)("div",{className:"mb-0",children:(0,s.jsxs)(eu,{variant:"outline",size:"sm",onClick:n,className:"h-7 md:h-8 px-2 md:px-3",children:[(0,s.jsx)(sL,{className:"h-3 w-3 md:h-4 md:w-4 mr-1 md:mr-2"}),(0,s.jsx)("span",{className:"text-xs md:text-sm",children:"Back to Game Session"})]})}),(0,s.jsx)(ea,{className:"mb-0",children:(0,s.jsx)(en,{className:"py-0 px-2 md:px-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-1 md:gap-0",children:[(0,s.jsxs)("div",{className:"space-y-0.5",children:[(0,s.jsx)(es,{className:"text-sm md:text-lg leading-tight",children:e.name}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-0.5 sm:gap-2 text-xs md:text-sm text-muted-foreground",children:[(0,s.jsxs)("span",{className:"font-medium text-xs md:text-sm",children:[t.name," - Level ",t.level," ",t.race," ",t.class]}),r&&(0,s.jsxs)(eh,{variant:"outline",className:"capitalize flex items-center gap-1 w-fit text-xs",children:[(0,s.jsx)(sv,{className:"h-2 w-2 md:h-3 md:w-3"}),r.name]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 md:gap-3 text-xs",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(sb,{className:"h-2 w-2 md:h-3 md:w-3 text-red-500"}),(0,s.jsxs)("span",{className:"text-xs",children:[t.hitPoints.current,"/",t.hitPoints.maximum]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(sj,{className:"h-2 w-2 md:h-3 md:w-3 text-blue-500"}),(0,s.jsx)("span",{className:"text-xs",children:t.armorClass})]})]})]})})}),(0,s.jsxs)(ea,{className:"flex-1 flex flex-col min-h-0",children:[(0,s.jsx)(en,{className:"py-0 flex-shrink-0 px-2 md:px-6",children:(0,s.jsxs)(es,{className:"text-sm md:text-lg flex items-center gap-2",children:[(0,s.jsx)(sU,{className:"h-3 w-3 md:h-5 md:w-5"}),"Adventure Chat",(m||p)&&(0,s.jsx)(eh,{variant:"secondary",className:"text-xs",children:p?"Initializing...":"AI Thinking..."})]})}),(0,s.jsxs)(el,{className:"flex-1 flex flex-col p-0 min-h-0",children:[(0,s.jsx)("div",{className:"flex-1 px-3 md:px-4 overflow-y-auto",style:{height:"500px",maxHeight:"500px"},ref:v,children:(0,s.jsxs)("div",{className:"space-y-2 md:space-y-4 pb-2",children:[o.map(e=>(0,s.jsxs)("div",{className:`flex gap-2 md:gap-3 ${"player"===e.sender?"flex-row-reverse":""}`,children:[(0,s.jsx)(sW,{className:"h-6 w-6 md:h-8 md:w-8",children:(0,s.jsx)(sV,{children:"dm"===e.sender?(0,s.jsx)(sU,{className:"h-3 w-3 md:h-4 md:w-4"}):"system"===e.sender?(0,s.jsx)(sv,{className:"h-3 w-3 md:h-4 md:w-4"}):(0,s.jsx)(sN,{className:"h-3 w-3 md:h-4 md:w-4"})})}),(0,s.jsxs)("div",{className:`flex-1 max-w-[80%] ${"player"===e.sender?"text-right":""}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-xs md:text-sm font-medium",children:"dm"===e.sender?"Dungeon Master":"system"===e.sender?"System":t.name}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:P(e.timestamp)}),"roll"===e.type&&(0,s.jsxs)(eh,{variant:"secondary",className:"text-xs",children:[(0,s.jsx)(sK,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),"Roll"]}),"action"===e.type&&(0,s.jsxs)(eh,{variant:"outline",className:"text-xs",children:[(0,s.jsx)(sC,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),"Action"]}),"system-discovery"===e.type&&(0,s.jsxs)(eh,{variant:"default",className:"text-xs bg-green-600 hover:bg-green-700",children:[(0,s.jsx)(sv,{className:"h-2 w-2 md:h-3 md:w-3 mr-1"}),"Discovery"]})]}),(0,s.jsx)("div",{className:`p-2 md:p-3 rounded-lg ${"dm"===e.sender?"bg-muted":"system"===e.sender?"bg-green-50 border border-green-200 dark:bg-green-950 dark:border-green-800":(e.type,"bg-primary text-primary-foreground")}`,children:"system-discovery"===e.type?(0,s.jsxs)("div",{className:"text-xs md:text-sm",children:[(0,s.jsx)("div",{className:"whitespace-pre-wrap text-green-800 dark:text-green-200",children:e.content.split("\n").map((e,t)=>{if(e.includes("\uD83C\uDD95 New Character Discovered:")||e.includes("\uD83C\uDD95 New Location Discovered:")||e.includes("\uD83C\uDD95 **New Character Discovered**:")||e.includes("\uD83C\uDD95 **New Location Discovered**:")){let r,a;let[n,...i]=e.split(" ");return e.includes("**")?(r=i.slice(1,4).join(" "),a=i.slice(4).join(" ")):(r=i.slice(0,3).join(" "),a=i.slice(3).join(" ")),(0,s.jsxs)("div",{className:"mb-1",children:[(0,s.jsx)("span",{className:"text-lg",children:n})," ",(0,s.jsx)("span",{className:"font-bold",children:r})," ",(0,s.jsx)("span",{className:"font-semibold text-green-900 dark:text-green-100",children:a})]},t)}return e.trim().startsWith("•")?(0,s.jsx)("div",{className:"ml-3",children:e},t):(0,s.jsx)("div",{children:e},t)})}),e.metadata?.discovery&&(0,s.jsx)("div",{className:"mt-2 pt-2 border-t border-green-200 dark:border-green-800",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs text-green-600 dark:text-green-400",children:[(0,s.jsxs)("span",{children:["Confidence:"," ",e.metadata.discovery.confidence,"%"]}),(0,s.jsx)("span",{children:"•"}),(0,s.jsxs)("span",{children:["Method:"," ",e.metadata.discovery.extractionMethod]}),e.metadata.discovery.isNew&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("span",{className:"text-green-700 dark:text-green-300 font-medium",children:"NEW!"})]})]})})]}):(0,s.jsx)("p",{className:"text-xs md:text-sm whitespace-pre-wrap",children:e.content})})]})]},e.id)),(m||p)&&(0,s.jsxs)("div",{className:"flex gap-2 md:gap-3",children:[(0,s.jsx)(sW,{className:"h-6 w-6 md:h-8 md:w-8",children:(0,s.jsx)(sV,{children:(0,s.jsx)(sU,{className:"h-3 w-3 md:h-4 md:w-4"})})}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("span",{className:"text-xs md:text-sm font-medium",children:"Dungeon Master"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:p?"initializing campaign...":"thinking..."})]}),(0,s.jsx)("div",{className:"p-2 md:p-3 bg-muted rounded-lg",children:(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 bg-muted-foreground rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})]})]})]})}),(0,s.jsx)("div",{className:"border-t p-1 md:p-4 flex-shrink-0 relative pb-0",children:(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(tm,{ref:y,value:d,onChange:e=>{let t=e.target.value;u(t),t.startsWith("/")&&t.length>1?g(!0):g(!1)},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S())},placeholder:p?"Initializing campaign...":"Describe your action or use /help for commands...",disabled:m||p,className:"flex-1 text-sm md:text-base"}),d.startsWith("/")&&(0,s.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:(0,s.jsx)(sG,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground"})}),x&&N.length>0&&(0,s.jsx)("div",{className:"absolute top-full left-0 right-0 bg-background border rounded-md shadow-lg z-10 max-h-48 overflow-y-auto",children:N.map((e,t)=>(0,s.jsx)("button",{onClick:()=>E(e),className:"w-full text-left px-3 py-2 hover:bg-muted text-sm",children:e},t))})]}),(0,s.jsx)(eu,{onClick:S,disabled:!d.trim()||m||p,size:"sm",className:"h-8 md:h-10 px-2 md:px-3",children:(0,s.jsx)(sY,{className:"h-3 w-3 md:h-4 md:w-4"})})]})})]})]})]})}function sJ({campaign:e,characters:t,onResumeSession:r}){let[a,n]=(0,i.useState)([]),[l,o]=(0,i.useState)(!0),[c,d]=(0,i.useState)(null),u=t.find(t=>t.campaignId===e.id),m=(0,i.useCallback)(async()=>{if(e?.id){o(!0),d(null);try{let t=await fetch(`/api/sessions/active?campaignId=${e.id}`);if(!t.ok)throw Error("Failed to fetch active sessions");let r=await t.json();n(r.sessions||[])}catch(e){d(e instanceof Error?e.message:"An error occurred")}finally{o(!1)}}},[e?.id]),h=e=>{let t=new Date,r=new Date(e),a=Math.floor((t.getTime()-r.getTime())/6e4);return a<1?"Just now":a<60?`${a}m ago`:a<1440?`${Math.floor(a/60)}h ago`:`${Math.floor(a/1440)}d ago`};return l?(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{className:"text-lg",children:e.name})}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading sessions..."})]})})]}):c?(0,s.jsxs)(ea,{children:[(0,s.jsx)(en,{children:(0,s.jsx)(es,{className:"text-lg",children:e.name})}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("p",{className:"text-sm text-destructive mb-2",children:c}),(0,s.jsx)(eu,{onClick:m,variant:"outline",size:"sm",children:"Try Again"})]})})]}):(0,s.jsxs)(ea,{children:[(0,s.jsxs)(en,{children:[(0,s.jsx)(es,{className:"text-lg",children:e.name}),(0,s.jsx)(ei,{children:e.description})]}),(0,s.jsx)(el,{children:a.length>0?(0,s.jsx)("div",{className:"space-y-3",children:a.map(a=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,s.jsx)("h4",{className:"font-medium",children:a.name}),(0,s.jsx)(eh,{variant:"active"===a.status?"default":"secondary",children:a.status})]}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:a.description}),(0,s.jsxs)("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(sB,{className:"h-3 w-3"}),h(a.lastMessageTime)]}),(0,s.jsxs)("span",{className:"flex items-center gap-1",children:[(0,s.jsx)(s_,{className:"h-3 w-3"}),a.messageCount," messages"]})]})]}),(0,s.jsxs)(eu,{onClick:()=>r(a.sessionId,e,u||t[0]),size:"sm",className:"ml-4",disabled:!u&&0===t.length,children:[(0,s.jsx)(sF,{className:"h-4 w-4 mr-2"}),"Continue"]})]},a.sessionId))}):(0,s.jsxs)("div",{className:"text-center py-6",children:[(0,s.jsx)(s_,{className:"h-8 w-8 text-muted-foreground mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"No active sessions for this campaign"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Create a new session from the campaign management to start playing"})]})})]})}let sZ="force-dynamic";function sQ(){let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)([]),[n,l]=(0,i.useState)([]),[o,c]=(0,i.useState)(null),[d,u]=(0,i.useState)(null),[m,h]=(0,i.useState)(null),[p,f]=(0,i.useState)("overview"),[x,g]=(0,i.useState)("campaigns"),[v,y]=(0,i.useState)(!0),[b,j]=(0,i.useState)(null),[w,N]=(0,i.useState)(null),[C,k]=(0,i.useState)(null),[S,E]=(0,i.useState)(!1),[P,A]=(0,i.useState)(!1),[L,M]=(0,i.useState)(!1),[T,D]=(0,i.useState)(0),I=()=>{D(e=>e+1)},R=()=>{c(null),f("create-campaign")},z=e=>{c(e||null),f("edit-campaign")},F=async r=>{try{if(E(!0),j(null),o){let a=await tu.updateCampaign(o.id,r);t(e.map(e=>e.id===o.id?a:e))}else{let a=await tu.createCampaign(r);t([...e,a])}f("overview"),c(null)}catch(e){throw console.error("Failed to save campaign:",e),j(e instanceof Error?e.message:"Failed to save campaign"),e}finally{E(!1)}},O=e=>{c(e),f("campaign-detail"),tu.getLocationsByCampaign(e.id).then(e=>{l(e)}).catch(e=>{console.error("Failed to fetch campaign locations:",e),l([])})},$=async r=>{if(confirm(`Are you sure you want to delete "${r.name}"? This action cannot be undone.`))try{await tu.deleteCampaign(r.id),t(e.filter(e=>e.id!==r.id)),j(null)}catch(e){console.error("Failed to delete campaign:",e),j(e instanceof Error?e.message:"Failed to delete campaign")}},_=()=>{f("overview"),c(null),u(null),h(null)},B=async e=>{try{if(A(!0),j(null),d){let t=await tu.updateCharacter(d.id,e);a(r.map(e=>e.id===d.id?t:e))}else{let t=await tu.createCharacter(e);a([...r,t]),f("overview"),u(null)}}catch(e){throw console.error("Failed to save character:",e),j(e instanceof Error?e.message:"Failed to save character"),e}finally{A(!1)}},U=async e=>{try{if(M(!0),j(null),m){let t=await tu.updateLocation(m.id,e);l(n.map(e=>e.id===m.id?t:e))}else{let t=await tu.createLocation(e);l([...n,t])}}catch(e){throw console.error("Failed to save location:",e),j(e instanceof Error?e.message:"Failed to save location"),e}finally{M(!1)}},q=(e,t)=>{k({campaign:e,character:t}),f("session-continuity")},H=e=>{u(e),f("edit-character")},W=e=>{u(e),f("character-sheet")},V=e=>{h(e),f("edit-location")},K=(e,t,r)=>{if(t&&r){N({campaign:t,character:r,sessionId:e}),f("gameplay");return}C?(N({...C,sessionId:e}),f("gameplay")):console.warn("Cannot resume session: missing campaign or character information")},G=async(e,t)=>{try{let r=await tu.createAutomaticSession(e.id,t.id,crypto.randomUUID());N({campaign:e,character:t,sessionId:r.session._id||r.session.id}),I(),f("gameplay")}catch(e){console.error("Failed to create automatic session:",e),alert("Failed to create session. Please try again.")}};return"create-campaign"===p||"edit-campaign"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-6 w-6 text-primary-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:o?"Edit Campaign":"Create Campaign"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(sc,{campaign:o||void 0,onSave:F,onCancel:_,isSaving:S})})]}):"create-character"===p||"edit-character"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-6 w-6 text-primary-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:d?"Edit Character":"Create Character"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(sx,{character:d||void 0,onSave:B,onCancel:_,isSaving:P,campaigns:e})})]}):"character-sheet"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-6 w-6 text-primary-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Character Sheet"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(sS,{character:d,onBack:_,onEdit:()=>H(d)})})]}):"create-location"===p||"edit-location"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-6 w-6 text-primary-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:m?"Edit Location":"Create Location"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(sA,{location:m||void 0,onSave:U,onCancel:_,isSaving:L})})]}):"location-detail"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Location Details"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(sR,{location:m,onBack:_,onEdit:()=>V(m)})})]}):"campaign-detail"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-6 w-6 text-primary-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Campaign Management"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(s$,{campaign:o,characters:r,locations:n,onBack:_,onEdit:()=>z(o),onPlaySession:t=>{if(t.campaignId){let a=e.find(e=>e.id===t.campaignId);a&&(r.filter(e=>e.campaignId===a.id).length>0?f("campaign-character-selector"):q(a,r[0]))}},onSaveCharacter:B,onSaveLocation:U,onDeleteCampaign:$})})]}):"campaign-character-selector"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-6 w-6 text-primary-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Choose Your Adventure"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsx)(sH,{onStartGame:G,onBack:()=>f("overview")})})]}):"session-continuity"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Session Continuity"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:C?(0,s.jsx)(sq,{campaignId:C.campaign.id,characterId:C.character.id,campaigns:e,characters:r,onResumeSession:K,onStartNewSession:()=>{e.length>0&&r.length>0?f("campaign-character-selector"):R()},onStartNewAdventure:()=>{f("campaign-character-selector")}}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"No session continuity data found."}),(0,s.jsx)(eu,{onClick:()=>f("overview"),className:"mt-4",children:"Back to Overview"})]})})]}):"gameplay"===p?(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Adventure in Progress"})]})]})})}),(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:w?(0,s.jsx)(sX,{campaign:w.campaign,character:w.character,onBack:()=>f("session-continuity"),existingSessionId:w.sessionId}):(0,s.jsxs)("div",{className:"text-center py-8",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"No active game session found."}),(0,s.jsx)(eu,{onClick:()=>f("session-continuity"),className:"mt-4",children:"Back to Session Continuity"})]})})]}):(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)("header",{className:"border-b border-border bg-card",children:(0,s.jsx)("div",{className:"container mx-auto px-4 py-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"p-2 bg-primary rounded-lg",children:(0,s.jsx)(sC,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-foreground",children:"AI Dungeons & Dragons"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Your AI-powered tabletop adventure"})]})]}),(0,s.jsxs)(eu,{className:"bg-primary hover:bg-primary/90",onClick:R,children:[(0,s.jsx)(sE,{className:"h-4 w-4 mr-2"}),"New Campaign"]})]})})}),(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[b&&(0,s.jsxs)("div",{className:"mb-6 p-4 bg-destructive/10 border border-destructive/20 rounded-lg",children:[(0,s.jsx)("p",{className:"text-destructive text-sm",children:b}),(0,s.jsx)(eu,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>j(null),children:"Dismiss"})]}),v&&(0,s.jsxs)("div",{className:"mb-6 p-8 text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Loading..."})]}),!Array.isArray(e)&&(0,s.jsx)("div",{className:"mb-6 p-4 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:(0,s.jsx)("p",{className:"text-yellow-700 text-sm",children:"Campaigns data is not properly initialized"})}),(0,s.jsxs)(ta,{value:x,onValueChange:g,className:"space-y-6",children:[(0,s.jsxs)(tn,{className:"grid w-full grid-cols-3",children:[(0,s.jsxs)(ts,{value:"campaigns",className:"flex items-center gap-2",children:[(0,s.jsx)(sC,{className:"h-4 w-4"}),"Campaigns"]}),(0,s.jsxs)(ts,{value:"characters",className:"flex items-center gap-2",children:[(0,s.jsx)(sN,{className:"h-4 w-4"}),"Characters"]}),(0,s.jsxs)(ts,{value:"play",className:"flex items-center gap-2",children:[(0,s.jsx)(sF,{className:"h-4 w-4"}),"Play"]})]}),(0,s.jsxs)(ti,{value:"campaigns",className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-foreground",children:"Your Campaigns"}),(0,s.jsxs)(eu,{variant:"outline",onClick:R,children:[(0,s.jsx)(sE,{className:"h-4 w-4 mr-2"}),"Create Campaign"]})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.isArray(e)&&e.length>0?e.map(e=>e&&(0,s.jsxs)(ea,{className:"bg-card border-2 border-orange-500 hover:shadow-lg hover:shadow-primary/10 transition-all cursor-pointer",children:[(0,s.jsxs)(en,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(es,{className:"text-xl",children:e.name||"Unnamed Campaign"}),(0,s.jsx)(eh,{variant:"active"===e.status?"default":"secondary",children:"active"===e.status?"Active":e.status})]}),(0,s.jsx)(ei,{children:e.description||"No description"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:e?.theme||"Custom Setting"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(eu,{size:"sm",variant:"outline",onClick:()=>z(e),children:"Edit"}),(0,s.jsxs)(eu,{size:"sm",onClick:()=>O(e),children:[(0,s.jsx)(sF,{className:"h-4 w-4 mr-2"}),"Manage"]}),(0,s.jsx)(eu,{size:"sm",variant:"destructive",onClick:()=>$(e),children:(0,s.jsx)(sz,{className:"h-4 w-4"})})]})]})})]},e.id||`campaign-${Math.random()}`)):(0,s.jsx)("div",{className:"col-span-full text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No campaigns yet. Create your first campaign to get started!"})})})]}),(0,s.jsxs)(ti,{value:"characters",className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-3xl font-bold text-foreground",children:"Your Characters"}),(0,s.jsxs)(eu,{variant:"outline",onClick:()=>f("create-character"),children:[(0,s.jsx)(sE,{className:"h-4 w-4 mr-2"}),"Create Character"]})]}),(0,s.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:Array.isArray(r)&&r.length>0?r.map(t=>t&&(0,s.jsxs)(ea,{className:"bg-card border-2 border-blue-500 hover:shadow-lg hover:shadow-primary/10 transition-all cursor-pointer",children:[(0,s.jsxs)(en,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(es,{className:"text-xl",children:t.name||"Unnamed Character"}),(0,s.jsx)(eh,{variant:"active"===t.status?"default":"secondary",children:"active"===t.status?"Active":t.status})]}),(0,s.jsx)(ei,{children:t.description||"No description"})]}),(0,s.jsx)(el,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:e.find(e=>e.id===t.campaignId)?.name||"No Campaign"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(eu,{size:"sm",variant:"outline",onClick:()=>H(t),children:"Edit"}),(0,s.jsxs)(eu,{size:"sm",onClick:()=>W(t),children:[(0,s.jsx)(sF,{className:"h-4 w-4 mr-2"}),"View"]})]})]})})]},t.id||`character-${Math.random()}`)):(0,s.jsx)("div",{className:"col-span-full text-center py-12",children:(0,s.jsx)("p",{className:"text-muted-foreground",children:"No characters yet. Create your first character to get started!"})})})]}),(0,s.jsx)(ti,{value:"play",className:"space-y-6",children:e.length>0?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-center mb-6",children:[(0,s.jsx)(s_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Ready to Play?"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Choose your campaign and character to start your adventure."}),(0,s.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,s.jsxs)(eu,{onClick:()=>f("campaign-character-selector"),className:"bg-primary hover:bg-primary/90",children:[(0,s.jsx)(sF,{className:"h-4 w-4 mr-2"}),"Start Adventure"]}),r.length>0&&(0,s.jsxs)(eu,{onClick:()=>q(e[0],r[0]),variant:"outline",children:[(0,s.jsx)(s_,{className:"h-4 w-4 mr-2"}),"Continue Adventure"]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Active Sessions"}),e.map(e=>(0,s.jsx)(sJ,{campaign:e,characters:r,onResumeSession:K},`${e.id}-${T}`))]})]}):(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(s_,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Begin Your Adventure"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Create a campaign and character to start playing with your AI Dungeon Master. The AI will guide your story and play all the NPCs you encounter."}),(0,s.jsxs)(eu,{size:"lg",className:"bg-primary hover:bg-primary/90",onClick:R,children:[(0,s.jsx)(sE,{className:"h-5 w-5 mr-2"}),"Create Campaign"]})]})})]})]})]})}},5478:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,8416,23)),Promise.resolve().then(r.t.bind(r,7342,23)),Promise.resolve().then(r.t.bind(r,4078,23)),Promise.resolve().then(r.t.bind(r,4193,23)),Promise.resolve().then(r.t.bind(r,1573,23)),Promise.resolve().then(r.t.bind(r,5405,23)),Promise.resolve().then(r.t.bind(r,7301,23)),Promise.resolve().then(r.t.bind(r,6159,23))},5726:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,9782,23)),Promise.resolve().then(r.t.bind(r,3552,23)),Promise.resolve().then(r.t.bind(r,708,23)),Promise.resolve().then(r.t.bind(r,7319,23)),Promise.resolve().then(r.t.bind(r,2079,23)),Promise.resolve().then(r.t.bind(r,868,23)),Promise.resolve().then(r.t.bind(r,5543,23)),Promise.resolve().then(r.t.bind(r,2241,23))},6415:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3948,23))},6426:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var a=r(5853),n=r(554),s=r(708),i=r.n(s),l=r(8067),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,257)),"/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,7898)),"/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,3706)),"/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,2137,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,8358,23)),"next/dist/client/components/unauthorized-error"]}],d=["/Users/brad/Desktop/git/Personal/AI-Powered-DnD-Game/frontend/app/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7190:()=>{},7898:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c,metadata:()=>o});var a=r(7307),n=r(4625),s=r.n(n),i=r(2033),l=r.n(i);r(7190);let o={title:"AI-Powered D&D Game",description:"An AI-powered Dungeons & Dragons game experience",generator:"AI-Powered D&D Game"};function c({children:e}){return(0,a.jsxs)("html",{lang:"en",className:"dark",children:[(0,a.jsx)("head",{children:(0,a.jsx)("style",{children:`
html {
  font-family: ${s().style.fontFamily};
  --font-sans: ${s().variable};
  --font-mono: ${l().variable};
}
        `})}),(0,a.jsx)("body",{children:e})]})}},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[683,112],()=>r(6426));module.exports=a})();